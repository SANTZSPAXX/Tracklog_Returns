(self.webpackChunkappsheet_app=self.webpackChunkappsheet_app||[]).push([["node_modules_moment_locale_sync_recursive_-scripts__shared_lib_ajaxutils_ts"],{246700:(e,t,r)=>{var n={"./af":42786,"./af.js":42786,"./ar":330867,"./ar-dz":414130,"./ar-dz.js":414130,"./ar-kw":396135,"./ar-kw.js":396135,"./ar-ly":556440,"./ar-ly.js":556440,"./ar-ma":947702,"./ar-ma.js":947702,"./ar-sa":116040,"./ar-sa.js":116040,"./ar-tn":237100,"./ar-tn.js":237100,"./ar.js":330867,"./az":731083,"./az.js":731083,"./be":609808,"./be.js":609808,"./bg":168338,"./bg.js":168338,"./bm":467438,"./bm.js":467438,"./bn":808905,"./bn-bd":976225,"./bn-bd.js":976225,"./bn.js":808905,"./bo":511560,"./bo.js":511560,"./br":301278,"./br.js":301278,"./bs":180622,"./bs.js":180622,"./ca":702468,"./ca.js":702468,"./cs":5822,"./cs.js":5822,"./cv":450877,"./cv.js":450877,"./cy":347373,"./cy.js":347373,"./da":224780,"./da.js":224780,"./de":459740,"./de-at":560217,"./de-at.js":560217,"./de-ch":260894,"./de-ch.js":260894,"./de.js":459740,"./dv":405300,"./dv.js":405300,"./el":250837,"./el.js":250837,"./en-au":278348,"./en-au.js":278348,"./en-ca":477925,"./en-ca.js":477925,"./en-gb":522243,"./en-gb.js":522243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":947207,"./en-il.js":947207,"./en-in":644175,"./en-in.js":644175,"./en-nz":476319,"./en-nz.js":476319,"./en-sg":331662,"./en-sg.js":331662,"./eo":392915,"./eo.js":392915,"./es":655655,"./es-do":155251,"./es-do.js":155251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":671146,"./es-us.js":671146,"./es.js":655655,"./et":905603,"./et.js":905603,"./eu":877763,"./eu.js":877763,"./fa":476959,"./fa.js":476959,"./fi":911897,"./fi.js":911897,"./fil":442549,"./fil.js":442549,"./fo":394694,"./fo.js":394694,"./fr":394470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":252330,"./fr-ch.js":252330,"./fr.js":394470,"./fy":905044,"./fy.js":905044,"./ga":629295,"./ga.js":629295,"./gd":802101,"./gd.js":802101,"./gl":538794,"./gl.js":538794,"./gom-deva":927884,"./gom-deva.js":927884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":895349,"./gu.js":895349,"./he":124206,"./he.js":124206,"./hi":30094,"./hi.js":30094,"./hr":230316,"./hr.js":230316,"./hu":822138,"./hu.js":822138,"./hy-am":111423,"./hy-am.js":111423,"./id":229218,"./id.js":229218,"./is":290135,"./is.js":290135,"./it":490626,"./it-ch":610150,"./it-ch.js":610150,"./it.js":490626,"./ja":439183,"./ja.js":439183,"./jv":224286,"./jv.js":224286,"./ka":512105,"./ka.js":512105,"./kk":47772,"./kk.js":47772,"./km":318758,"./km.js":318758,"./kn":479282,"./kn.js":479282,"./ko":433730,"./ko.js":433730,"./ku":201408,"./ku.js":201408,"./ky":533291,"./ky.js":533291,"./lb":636841,"./lb.js":636841,"./lo":655466,"./lo.js":655466,"./lt":757010,"./lt.js":757010,"./lv":437595,"./lv.js":437595,"./me":539861,"./me.js":539861,"./mi":835493,"./mi.js":835493,"./mk":495966,"./mk.js":495966,"./ml":87341,"./ml.js":87341,"./mn":905115,"./mn.js":905115,"./mr":610370,"./mr.js":610370,"./ms":509847,"./ms-my":741237,"./ms-my.js":741237,"./ms.js":509847,"./mt":572126,"./mt.js":572126,"./my":856165,"./my.js":856165,"./nb":364924,"./nb.js":364924,"./ne":16744,"./ne.js":16744,"./nl":893901,"./nl-be":659814,"./nl-be.js":659814,"./nl.js":893901,"./nn":383877,"./nn.js":383877,"./oc-lnc":792135,"./oc-lnc.js":792135,"./pa-in":115858,"./pa-in.js":115858,"./pl":764495,"./pl.js":764495,"./pt":389520,"./pt-br":157971,"./pt-br.js":157971,"./pt.js":389520,"./ro":396459,"./ro.js":396459,"./ru":321793,"./ru.js":321793,"./sd":840950,"./sd.js":840950,"./se":310490,"./se.js":310490,"./si":690124,"./si.js":690124,"./sk":664249,"./sk.js":664249,"./sl":414985,"./sl.js":414985,"./sq":451104,"./sq.js":451104,"./sr":149131,"./sr-cyrl":779915,"./sr-cyrl.js":779915,"./sr.js":149131,"./ss":785893,"./ss.js":785893,"./sv":598760,"./sv.js":598760,"./sw":891172,"./sw.js":891172,"./ta":127333,"./ta.js":127333,"./te":723110,"./te.js":723110,"./tet":352095,"./tet.js":352095,"./tg":27321,"./tg.js":27321,"./th":409041,"./th.js":409041,"./tk":419005,"./tk.js":419005,"./tl-ph":275768,"./tl-ph.js":275768,"./tlh":989444,"./tlh.js":989444,"./tr":372397,"./tr.js":372397,"./tzl":528254,"./tzl.js":528254,"./tzm":351106,"./tzm-latn":330699,"./tzm-latn.js":330699,"./tzm.js":351106,"./ug-cn":809288,"./ug-cn.js":809288,"./uk":167691,"./uk.js":167691,"./ur":813795,"./ur.js":813795,"./uz":806791,"./uz-latn":460588,"./uz-latn.js":460588,"./uz.js":806791,"./vi":865666,"./vi.js":865666,"./x-pseudo":614378,"./x-pseudo.js":614378,"./yo":875805,"./yo.js":875805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":755726,"./zh-hk.js":755726,"./zh-mo":899807,"./zh-mo.js":899807,"./zh-tw":774152,"./zh-tw.js":774152};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=246700},571524:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,i,l,s,u,c=n(r(496486)),d=n(r(42238)),p=r(646317),f=n(r(275283)),h=r(892148),g=r(166089),m=["/template/simpledef","/template/appdef"],v=!1,S=(0,p.parseUrlQuery)(),y={detectIfNeeded:function(){v||(y.detect(),v=!0)},detect:function(){o=new d.default(navigator.userAgent),i=o.getOS(),l=o.getDevice(),s=(s=y.detectLocale(navigator))?s.toLowerCase().replace("_","-"):s,u=void 0},scrollbarWidth:function(){return void 0===u&&(u=(0,f.default)()),u},IsIEBrowser:function(){return null!=navigator.userAgent.match(/MSIE/i)||null!=navigator.userAgent.match(/IEMobile/i)||"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)||!!window.MSInputMethodContext&&!!document.documentMode},IsIE8MinusBrowser:function(){return null!=navigator.userAgent.match(/MSIE 8.0/i)||null!=navigator.userAgent.match(/MSIE 7.0/i)},IsKindleBrowser:function(){return null!=navigator.userAgent.match(/Kindle/i)||null!=navigator.userAgent.match(/Silk/i)},IsAndroidBrowser:function(){return null!=navigator.userAgent.match(/Android/i)||this.IsKindleBrowser()},IsAndroid4:function(){return this.IsAndroidBrowser()&&i.version&&4===parseInt(i.version,10)},IsUnsupportedAndroidVersion:function(){var e;if((null===(e=g.AppGlobals.AppState)||void 0===e?void 0:e.UserInformation)&&70007===g.AppGlobals.AppState.UserInformation.Id){var t=this.AndroidVersion();return t&&t<4.2&&null==window.JeeneeAndroid}return!1},Device:function(){return l},OSName:function(){return i.name},OSVersion:function(){return i.version},AndroidVersion:function(){return this.IsAndroidBrowser()&&i.version?parseFloat(i.version):null},IOSVersion:function(){return(this.IsIPhoneBrowser()||this.IsIPadBrowser()||this.IsIPodBrowser())&&i.version?parseFloat(i.version):null},IsChromeBrowser:function(){return null!=navigator.userAgent.match(/Chrome/i)},IsFirefoxBrowser:function(){return null!=navigator.userAgent.match(/Firefox/i)},IsIPhoneBrowser:function(){return null!=navigator.userAgent.match(/iPhone/i)},IsIPadBrowser:function(){return null!=navigator.userAgent.match(/iPad/i)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},IsIPodBrowser:function(){return null!=navigator.userAgent.match(/iPod/i)},IsSafariBrowser:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Android")},IsIOSBrowser:function(){return this.IsIPhoneBrowser()||this.IsIPadBrowser()||this.IsIPodBrowser()},IsIOSV6Browser:function(){return c.default.isFunction(this.IsIOSBrowser)&&this.IsIOSBrowser()&&null!=navigator.userAgent.match(/Version\/6/i)},IsIOSV8or9Browser:function(){return/^Apple/.test(navigator.vendor)&&/AppleWebKit[/]60.*Version[/][89][.]/.test(navigator.appVersion)},IsPhoneBrowser:function(){return this.IsIPhoneBrowser()||this.IsIPodBrowser()||this.IsAndroidBrowser()},IsTabletBrowser:function(){return this.IsIPadBrowser()||this.IsKindleBrowser()},IsMobileBrowser:function(){return this.IsPhoneBrowser()||this.IsTabletBrowser()},IsTouchEnabled:function(){return this.IsMobileBrowser()},IsTouchDevice:function(){return"ontouchstart"in document.documentElement},IsWhitelabelBrowser:function(){return"sal"===S.b||"true"===S.whitelabel},InIOSWebView:function(){return"true"===S.webview},InUIWebView:function(){var e;if("iP"===navigator.platform.substr(0,2)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0){var t=/constructor/i.test(window.HTMLElement),r=window.navigator,n=r.userAgent,a=!!window.indexedDB;if(-1!==n.indexOf("Safari")&&-1!==n.indexOf("Version")&&!r.standalone)return!1;if(!a&&t||!window.statusbar.visible)return!0;if((null===(e=window.webkit)||void 0===e?void 0:e.messageHandlers)||!t||a)return!1}return!1},InWKWebView:function(){var e;if("iP"===navigator.platform.substr(0,2)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0){var t=/constructor/i.test(window.HTMLElement),r=window.navigator,n=r.userAgent,a=!!window.indexedDB;if(-1!==n.indexOf("Safari")&&-1!==n.indexOf("Version")&&!r.standalone)return!1;if(!a&&t||!window.statusbar.visible)return!1;if((null===(e=window.webkit)||void 0===e?void 0:e.messageHandlers)||!t||a)return!0}return!1},InAndroidWebView:function(){return"true"===S.android},InMobileWebView:function(){return this.InIOSWebView()||this.InAndroidWebView()},GetMetricDevice:function(){return this.InAndroidWebView()?"android":this.InIOSWebView()?"ios":"browser"},InFBCanvas:function(){return window.self!==window.top},IsDeviceWithNoDotOnNumericKeyboard:function(){return!(!this.IsAndroidBrowser()||"Samsung"!==l.vendor)||!(!this.IsAndroid4()||"HTC"!==l.vendor)},Supports3dTransform:function(){if(null!=a)return a;if(!window.getComputedStyle)return!1;var e,t=document.createElement("p");if(document.body.insertBefore(t,null),void 0!==t.style.transform){t.style.transform="translate3d(1px, 1px, 1px)";var r=window.getComputedStyle(t);if(!r)return!1;e=r.getPropertyValue("transform")}return document.body.removeChild(t),a=void 0!==e&&e.length>0&&"none"!==e},IsIFrame:function(){return window.top!==window.self},IsIFrameAnonymousPreview:function(){return this.IsIFrame()&&"1"===S.preview},IsIFrameAuthPreview:function(){return this.IsIFrame()&&"2"===S.preview},IsIFramePreview:function(){return this.IsIFrameAuthPreview()||this.IsIFrameAnonymousPreview()},IsEditorIFramePreview:function(){try{return!!(c.default.isFunction(this.IsIFramePreview)&&this.IsIFramePreview()&&new URL(document.referrer).origin===location.origin&&c.default.includes(m,window.top.location.pathname.toString().toLowerCase()))}catch(e){return!1}},IsActiveXEnabled:function(){var e=null;try{e=!!new ActiveXObject("htmlfile")}catch(t){e=!1}return e},IsFileReaderEnabled:function(){var e=null;try{e=void 0!==window.FormData}catch(t){e=!1}return e},SupportsDateTimeInputs:function(){return!this.IsIEBrowser()&&(!(this.IsSafariBrowser()&&!this.IsMobileBrowser())&&!!(this.IsIOSBrowser()||this.IsAndroidBrowser()||this.IsChromeBrowser()))},Locale:function(){return s},detectLocale:function(e){var t,r;if(null===(t=e.languages)||void 0===t?void 0:t.length){var n=e.languages[0];r=c.default.find(e.languages,(function(e){return e!==n&&c.default.startsWith(e,n)}))||n}else r=e.language?e.language:e.browserLanguage?e.browserLanguage:"en";return r},getBrowser:function(){return o||this.detectIfNeeded(),o.getBrowser()},initBrowserSpecificUX:function(){$(".IESpecific").hide(),$(".ChromeSpecific").hide(),$(".FirefoxSpecific").hide(),$(".IPhoneSpecific").hide(),$(".IPadSpecific").hide(),$(".IOSSpecific").hide(),$(".OtherBrowserSpecific").hide(),this.IsChromeBrowser()?($(".ChromeSpecific").show(),$(".ChromeIgnore").hide()):this.IsIEBrowser()?($(".IESpecific").show(),$(".IEIgnore").hide()):this.IsIE8MinusBrowser()?($(".IE8MinusSpecific").show(),$(".IE8MinusIgnore").hide()):this.IsAndroidBrowser()?($(".AndroidSpecific").show(),$(".AndroidIgnore").hide()):this.IsFirefoxBrowser()?($(".FirefoxSpecific").show(),$(".FirefoxIgnore").hide()):this.IsIPhoneBrowser()?($(".IPhoneSpecific").show(),$(".IOSSpecific").show(),$(".IOSIgnore").hide(),$(".IPhoneIgnore").hide()):this.IsIPadBrowser()?($(".IPadSpecific").show(),$(".IOSSpecific").show(),$(".IOSIgnore").hide(),$(".IPadIgnore").hide()):($(".OtherBrowserSpecific").show(),$(".OtherBrowserIgnore").hide()),this.IsTouchDevice()?$("body").addClass("IsTouchDevice"):$("body").addClass("NotTouchDevice");var e="click";if((this.IsIOSBrowser()||this.IsAndroidBrowser())&&(e="touchstart"),this.InitTopRail(e),this.IsIOSBrowser()&&this.InIOSWebView()&&null==window.webkit){var t,r=function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName};document.addEventListener("touchstart",(function(e){t=null,!r(document.activeElement)||r(e.target)||$(e.target).hasClass("ASTappable")||(t=document.activeElement)}),!0),document.addEventListener("blur",(function(e){e.target===t&&setTimeout((function(){$("body").hide().show(0)}),1200)}),!0)}},InitTopRail:function(e){if("localhost"===h.WindowWrapper.location.hostname){var t=$("#toolsimg").attr("alt");$("#toolsimg").attr("alt","localhost:"+t)}this.InFBCanvas()&&$("#titleimg").attr("title","Click here to open 1Track in a separate window"),$("#helpdisplay").on(e,"#HelpButton",(function(){$("#HelpMenuSection").toggle("drop",{direction:"up"})})),$("#HelpMenuSection").on(e,".HelpMenuButton",(function(e){$("#HelpMenuSection").hide(),e.stopPropagation(),window.Common.Show1TrackHelp(!0,"HelpDialog"+$(e.target).attr("helpName"))}))},OpenUrl:function(e){h.WindowWrapper.openInNewTab(e)}},A=y;t.default=A},890468:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(364687)),o=n(r(627424)),i=n(r(600861)),l=n(r(856690)),s=n(r(689728)),u=n(r(571524)),c=n(r(143249)),d=n(r(112368)),p=r(44617),f=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))},h=function(){function e(){(0,l.default)(this,e)}return(0,s.default)(e,null,[{key:"isEnabled",value:function(){try{return!(u.default.InMobileWebView()&&!e.isNavigatorShareSupported()&&!e.isNativeShareSupported())&&((window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)&&(c.default.includeByCurrentUserId("ClientDumpLogger")||p.dynamicRollouts.includeByUserId("UseClientDumpLogger")))}catch(e){return!1}}},{key:"isNavigatorShareSupported",value:function(){var e;return null!=navigator.share&&u.default.InIOSWebView()&&(null!==(e=u.default.IOSVersion())&&void 0!==e?e:0)>=15}},{key:"isNativeShareSupported",value:function(){return u.default.InAndroidWebView()&&d.default.IsAndroidAppWithMinVersion("15.0")||u.default.InIOSWebView()&&d.default.IsIOSAppWithMinVersion("14.3.4")}},{key:"maybeLog",value:function(t){var r;if(e.isInitialized&&e.isEnabled())try{for(var n=function(e){return e instanceof Error?["","message: "+e.name+": "+e.message,"stack: "+e.stack,""].join("\n\t"):"string"==typeof e?"\t".concat(e):JSON.stringify(e,null,4)},a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];var s=(null!==(r=o[0])&&void 0!==r?r:"").toString();e.log(t,[s].concat((0,i.default)(o.filter((function(e){return null!=e})).slice("string"==typeof o[0]?1:0).map(n))).join("\n")+"\n")}catch(e){}}},{key:"log",value:function(t,r){return f(this,void 0,void 0,a.default.mark((function n(){var o,i,l,s,u;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.db();case 2:o=n.sent,i=o.transaction(["logs","metadata"],"readwrite"),l=i.objectStore("logs"),s=i.objectStore("metadata"),(u=s.get("next_row")).onsuccess=function(){var n=u.result;l.put([(new Date).toLocaleString("en-US"),e.tabIdentifier,"[".concat(t,"]"),r],n++),n>=e.MAX_ROWS&&(n=0),s.put(n,"next_row")};case 8:case"end":return n.stop()}}),n)})))}},{key:"db",value:function(){return f(this,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.dbPromise){t.next=2;break}return t.abrupt("return",e.dbPromise);case 2:return e.dbPromise=new Promise((function(e,t){var r=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(r){var n=r.open("ClientLoggerDB",1);n.onsuccess=function(){e(n.result)},n.onupgradeneeded=function(){var e=n.result;e.createObjectStore("logs"),e.createObjectStore("metadata").put(0,"next_row")},n.onerror=function(){t()}}else t()})),t.abrupt("return",e.dbPromise);case 4:case"end":return t.stop()}}),t)})))}},{key:"dump",value:function(){return f(this,void 0,void 0,a.default.mark((function t(){var r,n,l,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.db();case 2:return r=t.sent,n=r.transaction(["logs","metadata"],"readonly"),l=new Promise((function(e,t){var r=n.objectStore("logs").getAll();r.onsuccess=function(){e(r.result)},r.onerror=function(){t(new Error("ClientDumpLogger.dump failed to load logs"))}})),s=new Promise((function(e,t){var r=n.objectStore("metadata").get("next_row");r.onsuccess=function(){e(r.result)},r.onerror=function(){t(new Error("ClientDumpLogger.dump failed to load metadata"))}})),t.abrupt("return",Promise.all([l,s]).then((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return[].concat((0,i.default)(r.slice(n)),(0,i.default)(r.slice(0,n)))})));case 7:case"end":return t.stop()}}),t)})))}},{key:"dumpToArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.MAX_ROWS,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0};return f(this,void 0,void 0,a.default.mark((function n(){var o;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.dump();case 2:return o=n.sent,n.abrupt("return",o.filter(r).slice(-t).map((function(e){return e.join("\t")})));case 4:case"end":return n.stop()}}),n)})))}},{key:"dumpTraceArray",value:function(t){return f(this,void 0,void 0,a.default.mark((function r(){return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.dumpToArray(t,(function(e){return"[TRACE]"===e[1]})));case 1:case"end":return r.stop()}}),r)})))}},{key:"dumpToBlob",value:function(){return f(this,void 0,void 0,a.default.mark((function t(){var r,n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dump();case 2:return r=t.sent,n=r.map((function(e){return e.join("\t")})).join("\n"),t.abrupt("return",new Blob([n],{type:"text/plain;charset=utf-8"}));case 5:case"end":return t.stop()}}),t)})))}},{key:"dumpToDataURI",value:function(){return f(this,void 0,void 0,a.default.mark((function t(){var r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dumpToBlob();case 2:return r=t.sent,t.abrupt("return",new Promise((function(e,t){var n=new File([r],"client.log"),a=new FileReader;a.readAsDataURL(n),a.onload=function(){a.result?e(a.result.toString()):t()},a.onerror=function(e){t(e)}})));case 4:case"end":return t.stop()}}),t)})))}},{key:"init",value:function(){!e.isInitialized&&e.isEnabled()&&(e.isInitialized=!0,$(document).ajaxError((function(t,r,n){var a,o;e.maybeLog("NETWORK","AJAX Error for "+n.url,{method:n.method,url:n.url,status:null===(a=r.status)||void 0===a?void 0:a.toString,responseSize:null===(o=r.responseText)||void 0===o?void 0:o.length})})),$(document).ajaxSuccess((function(t,r,n){var a,o;e.maybeLog("NETWORK","AJAX Success for "+n.url,{method:n.method,url:n.url,status:null===(a=r.status)||void 0===a?void 0:a.toString,responseSize:null===(o=r.responseText)||void 0===o?void 0:o.length})})),$(document).ajaxSend((function(t,r,n){e.maybeLog("NETWORK","AJAX Send for "+n.url,{method:n.method,url:n.url})})))}}]),e}();h.MAX_ROWS=1e3,h.dbPromise=null,h.isInitialized=!1,h.tabIdentifier=Date.now().toString(36);var g=h;t.default=g},515128:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.asError=t.CloudErrorLogger=void 0;var a=n(r(364687)),o=n(r(856690)),i=n(r(689728)),l=n(r(627424)),s=r(166089),u=r(892148),c=n(r(496486)),d=n(r(571524)),p=n(r(890468)),f=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))},h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},g=function(e){return e instanceof Error?e:new Error(JSON.stringify(e))};t.asError=g;var m,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).map((function(e){var t=(0,l.default)(e,2),r=t[0],n=t[1];return"".concat(r,":: ").concat(n)}))},S=function(e){return c.default.isString(e)&&!function(e){return e.startsWith("/")&&!e.startsWith("//")}(e)&&!/^https:\/\/[a-z]+\.appsheet\.com/.test(e)&&!e.startsWith("https://storage.googleapis.com")&&!e.startsWith("http://127.0.0.1")&&!e.startsWith("http://localhost")&&!e.startsWith("webpack")},y=function(){function e(t){var r=this;(0,o.default)(this,e),this.config=t,this.onerrorHandler=function(e,t,n,o,i){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return f(r,void 0,void 0,a.default.mark((function r(){var o,f,h,y,A,w,E,T,C,I,k,b,P;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(y=this.config.samplingRate,e instanceof ErrorEvent?(i=null!=i?i:e.error,t=e.filename,n=e.lineno,e=e.message):e instanceof Event?(A=e.target)instanceof HTMLElement?(w=A.getAttributeNames().map((function(e){return e+"="+A.getAttribute(e)})).join(","),e="Error in html element ".concat(A.nodeName),"IMG"===A.nodeName&&(y=.01),l.elementAttributes=w):e="Error in unknown event: ".concat(e):e=c.default.toString(e),E=this.config,T=E.bundle,C=E.shouldIgnore,I=E.getCommonInfo,!(i&&i===m||Math.random()>c.default.clamp(y,0,1)||S(t)||C(e,i))){r.next=5;break}return r.abrupt("return");case 5:if(p.default.maybeLog("LOG","Sending Error to Server",e),(k=v(Object.assign(Object.assign({},I()),l))).push("TimezoneOffset:: ".concat((new Date).getTimezoneOffset())),i&&k.push("\nJSErrorStack::\n".concat(i.stack)),!p.default.isEnabled()){r.next=20;break}return r.prev=10,r.next=13,p.default.dumpTraceArray(30);case 13:b=r.sent,k.push("\nLogDump::\n".concat(b.join("\n"))),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(10),k.push("\nLogDump failed:: ".concat(g(r.t0).message));case 20:if(!window.APPSHEET_TEST_CONTEXT){r.next=22;break}return r.abrupt("return");case 22:n||(n=(null==i?void 0:i.line)||0),t||(t=(null==i?void 0:i.sourceURL)||location.href),m=i,P={url:t,msg:e,line:n,errorContext:k.join("\n"),lang:d.default.Locale(),location:u.WindowWrapper.location.href,fromEditor:"editor"===T,appId:null!==(h=null===(f=null===(o=s.AppGlobals.AppModel)||void 0===o?void 0:o.AppTemplate)||void 0===f?void 0:f.Id)&&void 0!==h?h:"",functionName:"unknown"},fetch("/manage/JavaScriptError",{method:"POST",headers:{RequestVerificationToken:window.VerifiedAjaxPostToken,"Content-Type":"application/json"},body:JSON.stringify(P)}).catch((function(e){console.error("Error in error logger: ".concat(e))}));case 27:case"end":return r.stop()}}),r,this,[[10,17]])})))}}return(0,i.default)(e,[{key:"startLoggingUncaughtErrors",value:function(){window.addEventListener("error",this.onerrorHandler,!0)}},{key:"stopLoggingUncaughtErrors",value:function(){window.removeEventListener("error",this.onerrorHandler)}},{key:"trackException",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,a=r.lineNumber,o=r.columnNumber,i=h(r,["url","lineNumber","columnNumber"]);this.onerrorHandler(e,n,a,o,t,i)}}]),e}();t.CloudErrorLogger=y},593186:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.SYNC_CANCELED_ERROR_MESSAGE=void 0,t._resetReportedErrors=function(){y={}},t.addAppEventHandler=function(e){return g.add(e),function(){return g.delete(e)}},t.default=void 0,t.doWeEverHitThis=function(e,t){I.ReportError({errorMessage:"Do we ever hit this",what:e,error:t})},t.warnToDevConsole=t.logToDevConsole=t.errorToDevConsole=void 0;var a=n(r(496486)),o=r(646317),i=n(r(571524)),l=n(r(112368)),s=r(218546),u=r(515128),c=n(r(890468)),d=r(892148),p=r(764104),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},h="__:abort";t.SYNC_CANCELED_ERROR_MESSAGE=h;var g=new Set;function m(e){g.forEach((function(t){t(e)}))}function v(e,t){var r=e+":"+((null==t?void 0:t.message)||"");return r.indexOf("Network error")>=0?(m(s.AppEventName.NetworkError),!0):r.indexOf(h)>=0?(m(s.AppEventName.SyncAbort),!0):r.indexOf("Connection timed out")>=0?(m(s.AppEventName.SyncTimeout),!0):r.indexOf("Unable to fetch app definition")>=0||r.indexOf("Unable to add/edit/delete row")>=0||r.indexOf("A duplicate request is already in progress")>=0||(r.indexOf("zaloJSV2")>=0||r.indexOf("getReadMode")>=0||!!i.default.IsUnsupportedAndroidVersion())}var S=["/account/_accountAlertForUser","/account/accountalerts","/Account/AppPolicies","/account/integrationchannels","/account/GetAppsForPolicyCheck","/api/account/computecharge","/api/account/status","/api/apps/*/userappevent","/api/apps/*/bases","/api/apps/*/schemas/validate","/api/appSketch/*/sketch","/api/apps/bases/","/api/authdomain/groups","/api/authdomain/names","/api/authdomain/sources","/api/baseCount","/api/bases","/api/bases/*","/api/bases/create/*","/api/check/expression","/api/conversation/import/*","/api/conversations/detectintent","/api/conversations/startsession","/api/conversations/updatesession","/api/createGcpProject","/api/listGcpFolders","/api/firebaseToken","/api/fsexplorer/folder","/api/getAppsScriptProjectInfo/*","/api/listApps","/api/listGcpFolders","/api/loadApp/*","/api/loadUsers/*","/api/migrateappworkflowrules/*","/api/migrateworkflowrule/*/*","/api/referencegraph","/api/refreshtoken","/api/suggest/formula","/api/suggestions/actions","/api/suggestions/actions/tables","/api/suggestions/all/*","/api/suggestions/appideas","/api/suggestions/components","/api/suggestions/feedback/interactions","/api/suggestions/reference/apps","/api/template/*/","/api/template/*/cloneTo/*","/api/template/*/exportView","/api/template/*/feedback","/api/template/*/ocrExtract/*","/api/template/*/ocrText/*","/api/template/*/qualifiers","/api/template/*/qualifiersByDoc","/api/template/*/query","/api/template/*/queryFeedback","/api/template/*/recovery","/api/template/*/stats","/api/template/*/suggestions","/api/template/*/table","/api/template/*/table/*/","/api/template/*/table/*/importcsv","/api/template/*/table/*/row","/api/template/*/table/*/row/delete","/api/template/*/table/*/row/update","/api/template/*/task/createtemplate","/api/template/*/trainingJobInfo/*","/api/template/*/userconsent","api/template/createApp","/api/template/geocodeResults","/api/template/latestVersion/*","/api/triggerWorkflowRule/*/*/*","/api/qualifiersByDoc","/api/v2/apps/*/tables/*/Action","/api/whitelabelapi/BuildApp","/api/workingversion/*/*/","/api/workingversionBaseline/*/*/","/collect","/dashboard/getshareableapps","/dashboard/getsharedapps","/directorydata/autocomplete","/decide/","/engage/","/externalconnections/create","/externalconnections/list/teamId/*/","/externalconnections/teamId/*/projectId/*","/internal/apps/*/apikeys","/internal/apps/*/apikeys/expired","/manage/CountValidTokens","/manage/InvalidateAllTokens","/manage/InvalidateDropboxTokens","/manage/InvalidateToken","/manage/RefreshAllTokens","/predictiveModels/*/*/assets.json","/teams/getgroups","/teams/getteamchanges","/Teams/TeamHasPublicOwner","/template/_appAuditLog","/template/restoreappdef","/track/","/v1/firelog/legacy/log","\\.\\./api/accesstoken","\\.\\./api/fsexplorer/folder","\\.\\./api/template/*/stats"].map((function(e){return{scrubbed:e.replace(/\*/g,"redacted"),regex:new RegExp("^"+e.replace(/\*/g,"[^/]+")+"$","i")}})),y={};var A=function(){return a.default.endsWith(window.AppSheetJSVersion,"dev")||window.location.href.indexOf("appsheet-dev.corp.goog")>=0},w=!1;try{w=!0===window.DEBUG_MODE||"1"===(0,o.parseUrlQuery)().debug}catch(e){console.error(e)}var E=w||A()?console.log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.default.maybeLog.apply(c.default,["LOG"].concat(t))};t.logToDevConsole=E;var T=w||A()?console.warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.default.maybeLog.apply(c.default,["WARN"].concat(t))};t.warnToDevConsole=T;var C=w||A()?console.error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.default.maybeLog.apply(c.default,["ERROR"].concat(t))};t.errorToDevConsole=C;var I={Debug:function(){return w},Test:function(){try{return"1"===(0,o.parseUrlQuery)().test}catch(e){return!1}},logToDevConsole:E,warnToDevConsole:T,errorToDevConsole:C,AddTraceContext:function(e,t){c.default.maybeLog("TRACE",e,t)},ReportError:function(e){var t=e.errorMessage,r=e.error,n=e.suppressBackendPost,o=f(e,["errorMessage","error","suppressBackendPost"]);if(!window.QuiesceApp){t&&(t=(0,p.sanitizeLoggingText)(t));try{if(a.default.isNil(r))r=new Error(t||"Unknown error");else if(!a.default.isError(r)){try{o.unknownError=JSON.stringify(r)}catch(e){o.unknownError="Exception converting unknown error to string: ".concat(e," (unknown error = ").concat(r,")")}r=new Error("Unknown error")}if(t||(t=r.message),I.errorToDevConsole(t,r),I.Debug()||A())return;!n&&window.EnableErrorReporting&&window.cloudErrorLogger&&window.cloudErrorLogger.trackException(t,r,o)}catch(e){C(e)}}},ReportErrorOnce:function(e,t){var r;e=e||{},null==t&&(t=a.default.toString(null===(r=e.error)||void 0===r?void 0:r.message)||e.errorMessage||""),y[t]||(y[t]=!0,I.ReportError(e))},HandleInitializationError:function(e){I.AddTraceContext("HandleInitializationError",{message:e.message});var t=null!=window.applicationCache&&(window.applicationCache.status===window.applicationCache.CHECKING||window.applicationCache.status===window.applicationCache.DOWNLOADING);throw I.ReportError({errorMessage:"Error in HandleInitializationError",error:e,appCacheUpdating:t}),t?window.applicationCache.onupdateready=function(){d.WindowWrapper.location.reload()}:i.default.IsEditorIFramePreview()||confirm("There was an error starting the app, press ok to reload the app.")&&d.WindowWrapper.location.reload(),e},EnableErrorHandling:function(e){var t=e.shouldIgnore,r=void 0===t?v:t,n=e.getCommonInfo,s=void 0===n?function(){return{}}:n,c=e.bundle,d=e.samplingRate;window.EnableErrorReporting=!0;var p={samplingRate:d,shouldIgnore:r,bundle:c,getCommonInfo:function(){return Object.assign(Object.assign({previewMode:(0,o.parseUrlQuery)().preview,jsBuild:a.default.toString(window.AppSheetJSBuild).split("-")[2],jsVersion:window.AppSheetJSVersion,timeSinceLoadMs:(new Date).getTime()-window.AppSheetPageLoadTime},i.default.IsMobileBrowser()?{osVersion:i.default.OSVersion(),nativeAppVersion:l.default.AppVersion(),inWebView:i.default.InMobileWebView()}:{}),s())}};window.cloudErrorLogger?window.cloudErrorLogger.config=p:window.cloudErrorLogger=new u.CloudErrorLogger(p),window.cloudErrorLogger.startLoggingUncaughtErrors()},ReportSyncError:function(e,t){if(!window.QuiesceApp){var r=t&&0===t.indexOf("__:");I.ReportError({errorMessage:"Sync error",userMessage:e,backendMessage:t,suppressBackendPost:!r})}},ReportHttpError:function(e,t,r,n){var o=I.scrubUrl(t);e=a.default.upperCase(e);var i=(null==n?void 0:n.message)?" ".concat(n.message):"";I.ReportErrorOnce(Object.assign(Object.assign({},n),{errorMessage:"HTTP Error - ".concat(r," ").concat(e," ").concat(o).concat(i),url:t}))},scrubUrl:function(e){var t=new URL(e,"http://localhost").pathname,r=S.find((function(e){var r=e.regex;return t.match(r)}));return r||I.logToDevConsole("ErrorHandling - add endpoint ".concat(t," to endpoints object using * for user-data")),r?r.scrubbed:t},ReportJqueryAjaxError:function(e,t,r,n,a){I.ReportHttpError(e,t,r.status,{errorThrown:a,textStatus:n,responseText:r.responseText})},createJQueryAjaxErrorAdapter:function(e,t){return function(r,n,a){I.ReportJqueryAjaxError(e,t,r,n,a)}}};var k=I;t.default=k},864510:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserInfoCookie=t.removeUserInfoCookie=t.readUserInfoFromCookie=void 0;var a=n(r(365914)),o=n(r(836808)),i="JeeneeUserInfo";t.readUserInfoFromCookie=function(){var e=o.default.get(i);return e?JSON.parse(e).UserInfo:null};t.updateUserInfoCookie=function(e){var t=o.default.get(i);if(t){var r=JSON.parse(t).Metadata,n=r.SupportAccess?new Date(r.Expires):a.default.addDays(new Date,28);r.Expires=n.toISOString();var l={UserInfo:e,Metadata:r};o.default.remove(i,{path:"/"}),o.default.remove(i,{path:"/",domain:".appsheet.com"}),o.default.remove(i,{path:"/",domain:"www.appsheet.com"}),o.default.set(i,JSON.stringify(l),{path:r.Path,domain:r.Domain,secure:r.Secure,expires:n})}};t.removeUserInfoCookie=function(){o.default.get(i)&&(o.default.remove(i,{path:"/"}),o.default.remove(i,{path:"/",domain:".appsheet.com"}),o.default.remove(i,{path:"/",domain:"www.appsheet.com"}))}},557310:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ReactRootUIConfig=t.ReactRootPlatform=void 0;var a,o=r(646317),i=n(r(571524)),l=n(r(280129));t.ReactRootPlatform=a,function(e){e.desktop="desktop",e.mobile="mobile"}(a||(t.ReactRootPlatform=a={}));var s,u=(0,o.parseUrlQuery)(),c=(s=u.platform,Object.keys(a).includes(s)?s:void 0),d=u.plock,p={_platformOverrideForTests:void 0,get platform(){return this._platformOverrideForTests||c},set platform(e){this._platformOverrideForTests=e},getPlatformForAppTemplate:function(e){var t;return!i.default.IsMobileBrowser()&&(null===(t=e.Presentation)||void 0===t?void 0:t.UseDesktopUI)?a.desktop:void 0},needsReload:function(e){return!(i.default.IsIFramePreview()||d||"AppGallery-10305"===e.Name||document.cookie.includes("STARTWITHTOKEN"))&&this.getPlatformForAppTemplate(e)!==this.platform},getRedirectUrl:function(e,t){var r=new URL(t);if("/"===r.pathname){var n=l.default.parse(r.hash.substring(1));n.appName=e.Name,r.hash="#"+l.default.stringify(n,{encode:!1})}else{var a=r.pathname.split("/");a.splice(-1,1,e.Id),r.pathname=a.join("/")}var o=this.getPlatformForAppTemplate(e);return o?r.searchParams.set("platform",o):r.searchParams.delete("platform"),r.toString()},isReactRoot:function(){return void 0!==this.platform},isInDesktopExperience:function(){return"desktop"===this.platform},isInMobileExperience:function(){return"mobile"===this.platform}};t.ReactRootUIConfig=p},652649:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Rollout=t.FALLBACK_NAME=void 0,t.userIsInDogfood=E,t.userIsInPreview=T;var a=n(r(856690)),o=n(r(689728)),i=n(r(238416)),l=n(r(496486)),s=n(r(593186)),u=r(646317),c=r(253846),d=r(591530),p=r(167759),f=r(166089),h={},g=(0,i.default)({},d.SubscriptionType.PRO,50),m="__NOT_FOUND_FALLBACK__";t.FALLBACK_NAME=m;var v=(0,u.parseUrlQuery)(),S=new Set(v.rollouts?v.rollouts.split(","):[]),y=new Set(v.excludeRollouts?v.excludeRollouts.split(","):[]);function A(e){return null==e?void 0:e.endsWith("@appsheet.com")}var w={};function E(e){return A(null===(r=null===(t=f.AppGlobals.AppState)||void 0===t?void 0:t.UserInformation)||void 0===r?void 0:r.AuthUserEmail)&&function(e){var t=e.OwnerId;return w[t]=w[t]||e.OwnerEmail||e.ownerEmail,A(w[t])}(e);var t,r}function T(e){var t;return(null===(t=e.Presentation)||void 0===t?void 0:t.ShowPreviewRollouts)||E(e)}var C=function(){function e(t,r){(0,a.default)(this,e),this.name=t,this.enabled=!(!1===r.enabled),this.includeList=r.includeList||[],this.excludeList=r.excludeList||[],this.includeJSTestEnv=r.includeJSTestEnv||!1,this.isABRollout=r.isABRollout||!1,this.forceIncludeFn=r.forceIncludeFn,this.forceExcludeFn=r.forceExcludeFn,(0,c.isTierRollout)(r)?(this.freePercentage=r.freePercentage,this.premiumPercentage=r.premiumPercentage):this.absolutePercentage=r.absolutePercentage}return(0,o.default)(e,[{key:"includeByOwner",value:function(e){if(!e)return this.quiet||s.default.warnToDevConsole("Rollout.includeByOwner() was called before AppTemplate was defined"),!1;var t=!1===e.OwnerInPremiumPlan;return this.include(e.OwnerId,t,e.OwnerSubscription,e)}},{key:"runBaseRolloutChecks",value:function(e,t){return!!S.has(this.name)||!y.has(this.name)&&(!(!this.includeJSTestEnv||!window.APPSHEET_TEST_CONTEXT)||(null==e?(this.quiet||s.default.warnToDevConsole("Rollout.include was checked for a null userId"),!1):(!this.forceExcludeFn||!this.forceExcludeFn(t))&&(!(!this.forceIncludeFn||!this.forceIncludeFn(t))||!(this.excludeList.indexOf(e)>=0)&&(!!(this.includeList&&this.includeList.indexOf(e)>=0)||!!this.enabled&&void 0))))}},{key:"include",value:function(e,t,r,n){var a=this.runBaseRolloutChecks(e,n);if(void 0!==a)return a;if("number"==typeof this.premiumPercentage&&"number"==typeof this.freePercentage){if(t)return e%100<this.freePercentage;var o=r&&g[r]?g[r]:0;return!(this.premiumPercentage<=o)&&e%100<100*(this.premiumPercentage-o)/(100-o)}return s.default.warnToDevConsole("Rollout ".concat(this.name," needs both freePercentage and premiumPercentage to be set. Otherwise default to using AbsolutePctRollout.")),!1}}],[{key:"allByOwner",value:function(e){return new Map(l.default.values(h).map((function(t){return[t.name,t.includeByOwner(e)]})))}},{key:"get",value:function(e){var t=h[e];return l.default.isNil(t)&&(console.error("Couldn't find rollout named ".concat(e," - make sure the rollout name matches the call site")),t=h[m]),t}},{key:"set",value:function(t,r){return h[t]=new e(t,r),h[t]}},{key:"delete",value:function(e){delete h[e]}},{key:"getEventPropsABRollouts",value:function(t){var r=this,n={};return l.default.values(h).forEach((function(a){var o,i="zInAB".concat(a.name);!0===a.isABRollout&&(o=r.isTierRollout(a)?e.get(a.name).includeByOwner(t):r.includeByCurrentUserId(a.name),n[i]=o)})),n}},{key:"isTierRollout",value:function(e){return void 0!==e.freePercentage}},{key:"inRollout",value:function(e,t){try{return null==e&&(s.default.warnToDevConsole("Rollout ".concat(t," was checked with an undefined appModel")),e=f.AppGlobals.AppModel),!(!e||!e.inRollout(t))}catch(e){return s.default.warnToDevConsole(e),!1}}},{key:"includeByCurrentUserId",value:function(t){var r;try{var n=e.get(t),a=(null===(r=f.AppGlobals.AppState)||void 0===r?void 0:r.UserInformation)?+f.AppGlobals.AppState.UserInformation.Id:window.getUserId?+window.getUserId():0,o=n.runBaseRolloutChecks(a);return void 0!==o?o:"number"==typeof n.absolutePercentage?a%100<n.absolutePercentage:(s.default.warnToDevConsole("Rollout ".concat(t," is using includeByCurrentUserId with absolutePercentage undefined")),!1)}catch(e){s.default.warnToDevConsole(e)}return!1}},{key:"inRolloutByCurrentUserIdIgnoresFreePctAndSubscriptionThreshold",value:function(t){var r;try{if(S.has(t))return!0;if(y.has(t))return!1;var n=(null===(r=f.AppGlobals.AppState)||void 0===r?void 0:r.UserInformation)?+f.AppGlobals.AppState.UserInformation.Id:window.getUserId?+window.getUserId():0,a=e.get(t);if(n)return a.include(n);if(100===a.premiumPercentage)return!0}catch(e){s.default.warnToDevConsole(e)}return!1}}]),e}();t.Rollout=C,C.set("mlkitScanner",{freePercentage:100,premiumPercentage:100,includeList:l.default.concat(p.internal,[1410076,1296052,822397,1596600])}),C.set("iOSmlkitScanner",{freePercentage:0,premiumPercentage:0,includeList:p.internal}),C.set("tabsInDashboard",{freePercentage:100,premiumPercentage:100,includeList:p.internal,excludeList:[708307,738426]}),C.set("adjustableDash",{freePercentage:100,premiumPercentage:100,includeList:p.internal,excludeList:[708307,738426]}),C.set("removePageParameter",{freePercentage:100,premiumPercentage:0,includeList:l.default.concat(p.internal,[735216])}),C.set("shrinkChartLabels",{freePercentage:0,premiumPercentage:0,includeList:[]}),C.set("skipSetSelectionRange",{freePercentage:0,premiumPercentage:0,includeList:[318163,880749,613875,347604,458972,691207,952775,836796,843559,778474,434682,933240,843555,600748,868158,434857,843554,871221,842442,313485]}),C.set("multiplePinDrop",{freePercentage:0,premiumPercentage:0,includeList:p.amazon}),C.set("resizeHttpsImages",{freePercentage:0,premiumPercentage:0}),C.set("imageWithSpinner",{freePercentage:0,premiumPercentage:0,includeList:[]}),C.set("detailViewTransactions",{freePercentage:0,premiumPercentage:0}),C.set("orderedEnumListSelection",{enabled:!0,freePercentage:100,premiumPercentage:100,includeList:l.default.concat(p.engineers,p.tests,[245151,283384,586234]),excludeList:[657020,228208,531778,1164890,263775,185005]}),C.set("fastTappable",{freePercentage:0,premiumPercentage:0}),C.set("logReplay",{enabled:!1,freePercentage:0,premiumPercentage:0,includeList:[70007,25411,601336,16350,488150,995223]}),C.set("justAdam",{enabled:!1,freePercentage:0,premiumPercentage:0,includeList:[70007]}),C.set("persistentCachingUI",{enabled:!1,freePercentage:0,premiumPercentage:0,includeList:p.amazon}),C.set("interactiveDashboardRefChains",{enabled:!1,freePercentage:0,premiumPercentage:0}),C.set("iframeDetailViewRollout",{freePercentage:0,premiumPercentage:0,includeList:l.default.concat(p.internal,p.sphIds,[975376,3096996,2822398,1334275,1653548])}),C.set("longTextFormattingRollout",{freePercentage:0,premiumPercentage:0,forceIncludeFn:T,includeList:l.default.concat(p.internal,p.sphIds)}),C.set("noAutomationPreviewLabel",{freePercentage:0,premiumPercentage:0,includeList:[1393532,1078799,1232210,2836489]}),C.set(m,{enabled:!0,freePercentage:100,premiumPercentage:100});var I=C;t.default=I},645938:(e,t,r)=>{"use strict";var n=r(564836)(r(652649)),a=r(167759);n.default.set("showIfActionButtons",{freePercentage:0,premiumPercentage:0,includeList:a.internal})},748256:(e,t,r)=>{"use strict";var n=r(564836),a=r(918698),o=n(r(600861)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(652649)),l=r(167759);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}i.default.set("NewChartsRollout",{freePercentage:0,premiumPercentage:0,forceIncludeFn:i.userIsInPreview,includeList:[176618,931271,488150,965098,883746,1348050,1313952,1663198,1926961,2137879,2207891,1064292,595408,1393532,1356843,1367686,1472994,1532048,381190].concat((0,o.default)(l.internal),(0,o.default)(l.supportEngineers),[1260444,1271464,1779956,297211,1952251,546920,831069,831998,2112967,2412076])})},370693:(e,t,r)=>{"use strict";var n=r(564836),a=n(r(600861)),o=n(r(652649)),i=r(790904),l=r(167759);o.default.set("filterFromTableHeader",Object.assign(Object.assign({},i.NOBODY),{includeList:[1683022].concat((0,a.default)(l.amazon))})),o.default.set("pdfViewerPaddingFix",i.FREE)},143249:(e,t,r)=>{"use strict";var n=r(918698);Object.defineProperty(t,"__esModule",{value:!0});var a={};t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=o?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(a,l,s):a[l]=e[l]}a.default=e,r&&r.set(e,a);return a}(r(652649));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})),r(135666),r(804799),r(748256),r(370693),r(796821),r(335311),r(109863),r(703370),r(397484),r(941206),r(645938),r(445170);var l=o.default;t.default=l},397484:(e,t,r)=>{"use strict";var n=r(564836),a=n(r(600861)),o=n(r(652649)),i=r(167759);o.default.set("DateTimeRespectsMinMax",{freePercentage:100,premiumPercentage:0,includeList:(0,a.default)(i.internal)})},941206:(e,t,r)=>{"use strict";var n=r(564836),a=n(r(496486)),o=n(r(652649)),i=r(167759);o.default.set("ClientDumpLogger",{absolutePercentage:0,includeList:i.internal}),o.default.set("DebugPanelInAbout",{freePercentage:0,premiumPercentage:0,includeList:a.default.concat(i.internal,[1367349,141419243,198860060])})},109863:(e,t,r)=>{"use strict";var n=r(564836)(r(652649)),a=r(167759);n.default.set("userConsent",{freePercentage:100,premiumPercentage:100,includeList:a.engineers,excludeList:a.tests,forceExcludeFn:function(e){return!!e&&("AppGallery-10305"===e.Name||(71626===e.OwnerId||2078346===e.OwnerId||a.tests.indexOf(e.OwnerId)>=0))},forceIncludeFn:function(e){var t;return!!e&&!(null===(t=e.Behavior)||void 0===t?void 0:t.AuthRequired)}})},335311:(e,t,r)=>{"use strict";r(564836)(r(652649)).default.set("showSuggestProcessType",{freePercentage:0,premiumPercentage:0,includeList:[1452668,2137879]})},804799:(e,t,r)=>{"use strict";var n=r(564836),a=r(918698),o=n(r(600861)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(652649)),l=r(167759);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}i.default.set("selectableOrderedList",{freePercentage:100,premiumPercentage:33,includeList:l.internal}),i.default.set("enableGroupingForInlineTableView",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,o.default)(l.internal),[539632])}),i.default.set("freezeFirstColumn",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,o.default)(l.internal),[348632,1367349]),forceIncludeFn:i.userIsInPreview})},790904:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premiumPercentage=t.freePercentage=t.absolutePercentage=t.PREVIEW=t.NOBODY=t.GENERAL_AVAILABILITY=t.FREE=t.DOGFOOD_PREVIEW=t.DOGFOOD=void 0;var n=r(652649),a=r(167759),o={freePercentage:0,premiumPercentage:0};t.NOBODY=o;var i=Object.assign(Object.assign({},o),{forceIncludeFn:n.userIsInDogfood});t.DOGFOOD=i;var l=Object.assign(Object.assign({},o),{forceIncludeFn:n.userIsInPreview});t.PREVIEW=l;var s=Object.assign(Object.assign({},o),{forceIncludeFn:function(e){var t;return(0,n.userIsInDogfood)(e)&&(null===(t=e.Presentation)||void 0===t?void 0:t.ShowPreviewRollouts)}});t.DOGFOOD_PREVIEW=s;var u=function(e){return Object.assign(Object.assign({},i),{freePercentage:e})};t.freePercentage=u;var c=u(100);t.FREE=c;t.premiumPercentage=function(e){return Object.assign(Object.assign({},c),{premiumPercentage:e})};t.GENERAL_AVAILABILITY={freePercentage:100,premiumPercentage:100};t.absolutePercentage=function(e){return{includeList:a.internal,absolutePercentage:e}}},796821:(e,t,r)=>{"use strict";var n=r(564836),a=n(r(600861)),o=n(r(652649)),i=r(167759);o.default.set("detailContentFiles",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(i.internal),[3096996])}),o.default.set("videoUpload",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(i.internal),[96620,1164890,1717036,473552,245151,1295314,297211,347908,699357,268825,818125,1490305])}),o.default.set("iosActionButtonFix",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(i.internal),[2857123,191634])}),o.default.set("materialDatePicker",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(i.amazon),[1841144,3025826,3047615,2296165,3601566])})},135666:(e,t,r)=>{"use strict";var n=r(564836),a=n(r(600861)),o=n(r(496486)),i=r(44617),l=r(557310),s=n(r(652649)),u=r(167759);s.default.set("interactiveMapsFix",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(u.internal),[297211])});var c={freePercentage:0,premiumPercentage:0,forceIncludeFn:function(){return i.dynamicRollouts.includeByOwnerId("ClientExpressionPerformance")||l.ReactRootUIConfig.isInDesktopExperience()}};s.default.set("curryNativeValue",c),s.default.set("curry",c),s.default.set("currySelect",c),s.default.set("valueInListSet",c),s.default.set("fromCacheOrRunEval",c),s.default.set("staleForm",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(u.internal),[1586991]),forceIncludeFn:function(e){var t;return null===(t=e.OwnerEmail)||void 0===t?void 0:t.endsWith("@team.nxlink.com")}}),s.default.set("asyncQuery",{freePercentage:0,premiumPercentage:0}),s.default.set("autoReopenFix",{freePercentage:0,premiumPercentage:0,includeList:[].concat((0,a.default)(u.internal),[4603885])}),s.default.set("selectAllButton",{freePercentage:0,premiumPercentage:0,includeList:o.default.concat(u.internal,u.amazon,[174105,3211725])}),s.default.set("promptUserAction",{freePercentage:0,premiumPercentage:0,includeList:o.default.concat(u.internal,[926290,1225430,956302,918828])})},253846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTierRollout=function(e){return void 0!==e.freePercentage}},167759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tests=t.supportEngineers=t.sphIds=t.internal=t.frontend=t.engineers=t.demo=t.chartsBetaTesters=t.betaTesters=t.amazon=void 0;t.frontend=[70007,549349,669819,931271,1030568,1071060,1473399];var r=[11305,16350,18357,22400,24403,18354,10304,70007,2137879,601336,176618,245842,549349,669819,595408,29554,931271,2207891,1005397,1030568,1071060,488150,965098,1102162,1152369,883746,1473399,1348050,1314004,1313945,1313952,1320261,1313959,1663198,1683022,1926961,1630666,1456987,1624067,1599480,958959,3359839,1102201,3440071,1546251,1778876,1653548,1762977,1778691,1778696,2601659,3917764,2249882,1452668,4312703,4347351,5358800,5774226,6139943,6486210,5536999,496826827,936524634,2263568,343531067,859695658,905952717];t.engineers=r;var n=[25411,1234,1];t.tests=n;var a=[].concat(r,n,[29554,1399886,595408,385404,861308,329237,1064292,1078799,945245,1125877,1472994,1417826,1426381,1502078,748467,3927331]);t.internal=a;t.demo=[626900];t.betaTesters=[248355,229942,251645,249548,118154,253628,253704,213632,146592,111951,106312,96562,64869,45500,47993,110547,136052];t.amazon=[168861,348632,574534,568068,827111,886959,956302,918828,1225430,1667473,1382026,3326643,3655986,3858270,6311762];t.sphIds=[1277379,1330964,1329946,376201,1550582,1253155,1549228,1549582,1549287,546172,1352033,1294178,1258846,1248423,1230597,856085,691135,590594,275155,1550689,1550129,1549545,1549531,1549528,1549300,1549297,1549294,1549291,1549278,1465683,1465625,1465617,1465615,1456171,1365895,691142];t.supportEngineers=[531778,1899981,1874119,2139026,2125820];t.chartsBetaTesters=[297211,1094332,925603,981849,868800,508849,292340,183037,149209,1387948,652533,1125405,759457,541119,343191,1360686,1360675,1372564,154055,539559,1412565,1393096,215230,399902,672988,859497,596506,1278969,1371490,1057135,61289,657450,1251682,1394564,823565,448913,1260444,1545561,474850,923004,1542997,1164890,1482176]},703370:(e,t,r)=>{"use strict";r(564836)(r(652649)).default.set("facetedSuggestions",{absolutePercentage:0,includeList:[]})},445170:(e,t,r)=>{"use strict";var n=r(564836)(r(652649)),a=r(167759);n.default.set("descriptionAtBoxBottom",{freePercentage:100,premiumPercentage:100,includeList:a.internal}),n.default.set("intelligentIconSearch",{freePercentage:0,premiumPercentage:0,excludeList:a.tests,includeList:[]})},365914:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.NestedStore=void 0,t.addDurations=H,t.addOrReplace=function(e,t,r){var n=e.indexOf(r);r&&n>-1?e.splice(n,1,t):e.push(t)},t.default=t.chooseInlineViewType=void 0,t.fastTrim=function(e){var t=c.default.isNil(e)?"":String(e);(w.test(t)||E.test(t))&&(t=t.trim());return t},t.getFileNameFromPath=function(e){var t=(e=e||"").match(/(?:.*[\\\/])?(.*)$/);if(null==t?void 0:t[1])return t[1];return""},t.getOrInit=t.getJSONFromString=t.getGroupByMap=t.getGroupAggregateFromString=void 0,t.getTableFileQueryParsed=function(e){return d.default.parse(A(e))},t.getTableFileQueryString=A,t.isAppSheetGetFileUrl=function(e){try{var t=new URL(e),r=t.host,n=t.pathname;return/([^.]+\.appsheet.com)|(localhost:53519)/.test(r)&&/^\/(get)|(template\/get)/.test(n)}catch(e){return!1}},t.isEmptyValue=void 0,t.isMonitoringApp=function(e){if(null==e)return!1;return["ad037b51-9650-4c4a-a769-480176cd27c5","6725b3b1-f43e-4551-ad07-e1576d6ee63e","2846dc1c-3bc6-4d82-9ede-dba57ff4096c","f8fb0673-d732-46ab-96fb-0421a1a689ce","2846dc1c-3bc6-4d82-9ede-dba57ff4096c"].indexOf(e)>=0},t.maxDimensionPixels=t.makePrettyTitle=t.isUserSettingsTable=void 0,t.normalizeTextIconUrl=function(e,t){var r=c.default.startsWith(e,"https://placeholdit.imgix.net/~text?"),n=c.default.startsWith(e,"https://via.placeholder.com");if(r||n){var a=S.AppGlobals.ViewManager.theme.getThemeColor("mainBackgroundVariantExtra"),o=S.AppGlobals.ViewManager.theme.getThemeColor("secondaryText");if((null==t?void 0:t.textColor)&&(o=t.textColor),(null==t?void 0:t.highlightColor)&&(a=t.highlightColor),a=a.replace("#",""),o=o.replace("#",""),r){var i=e.match(/https\:\/\/placeholdit\.imgix\.net\/~text\?(.*)/),l=i&&d.default.parse(i[1])||{},u=l.w,p=l.h,f=l.txt;u&&f&&(e="https://via.placeholder.com/".concat(u,"x").concat(p||u,"/").concat(a,"/").concat(o,"?text=").concat(f))}else if(n&&e.match(/^https\:\/\/via\.placeholder\.com\/\d+x\d+\?text=.*$/)){var h=e.split("?"),g=(0,s.default)(h,2),m=g[0],v=g[1];"text=0"===v?v="text=O":"text="===v&&(o=a),e=[m+"/".concat(a,"/").concat(o),v].join("?")}}return e},t.remove=function(e,t){var r=e.indexOf(t);t&&r>-1&&e.splice(r,1)},t.stripEmptyItems=void 0,t.sumDecimals=function(e){try{return Number(e.reduce((function(e,t){return e.plus(new p.default(Number(t)||0))}),new p.default(0)).toFixed())}catch(r){var t=(0,v.asError)(r);return"BigError"===t.name&&"NaN"===t.message||h.default.ReportErrorOnce({errorMessage:"Unexpected error in sumDecimals",error:t}),Y(e)}},t.sumDurations=function(e){return e.reduce((function(e,t){return H(e,t)}))},t.sumNumbers=Y,t.toNormalizedString=function(e){var t=c.default.isNil(e)?"":String(e);T.test(t)&&(t=t.replace(T,"'"));C.test(t)&&(t=t.replace(C,'"'));(w.test(t)||E.test(t))&&(t=t.trim());return t.toLowerCase()};var a=n(r(600861)),o=n(r(918698)),i=n(r(856690)),l=n(r(689728)),s=n(r(627424)),u=n(r(730381)),c=n(r(496486)),d=n(r(280129)),p=n(r(593302)),f=n(r(571524)),h=n(r(593186)),g=r(714067),m=r(646317),v=r(515128),S=r(166089),y=r(714067);function A(e){var t;e=e||"";try{if("string"!=typeof e)return"";if(e.startsWith(g.CLOUDFLARE_URL_BASE)){var r=e.split(g.CLOUDFLARE_URL_BASE)[1],n=d.default.parse(r).i;return atob(String(n))}if(e.startsWith(g.GETTABLEFILEURL_BASE))return e.slice(g.GETTABLEFILEURL_BASE.length);var a=null!==(t=e.match(g.GETIMAGEURL_PATTERN))&&void 0!==t?t:[],o=(0,s.default)(a,3),i=o[0],l=o[2];if(i)return l;var u=e.match(g.GETTABLEFILEURL_REGEX);if(u)return u[1]}catch(t){h.default.ReportErrorOnce({errorMessage:"Failed to extract query in getTableFileQueryString",fileUrl:e,caught:c.default.isError(t)?t.message:"Unknown error"})}return""}var w=/^\s/,E=/\s$/,T=/[\u2018|\u2019]/g,C=/[\u201c|\u201d]/g;var I=function(e){return c.default.isNil(e)||""===e||Array.isArray(e)&&0===e.length||e.constructor===Object&&0===Object.keys(e).length};t.isEmptyValue=I;t.stripEmptyItems=function(e){return c.default.omitBy(e,I)};t.getOrInit=function(e,t,r){var n=e.get(t);return void 0===n&&(n=r(),e.set(t,n)),n};var k={},b=(new Date).getTimezoneOffset();function P(){return t=function(){if((null===navigator||void 0===navigator?void 0:navigator.language)&&"nb"!=navigator.language.toLowerCase()&&"en-gb"!=navigator.language.toLowerCase()&&"en-au"!=navigator.language.toLowerCase())return!1;if(f.default.IsIOSBrowser()||f.default.IsSafariBrowser())return!1;try{(new Date).toLocaleDateString("i")}catch(e){if(c.default.isError(e)&&"RangeError"===e.name)try{return(new Date).toLocaleDateString("en",{hour12:!0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),!0}catch(e){return!1}}return!1},null==k[e="useDateLocaleOption"]&&(k[e]=t()),k[e];var e,t}function O(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}function R(e,t){return null==e?null:t?O(e.getMonth()+1,2)+"/"+O(e.getDate(),2)+"/"+O(e.getFullYear(),4):O(e.getUTCMonth()+1,2)+"/"+O(e.getUTCDate(),2)+"/"+O(e.getUTCFullYear(),4)}function D(e,t){return e&&t?"lll":"".concat(e?"ll":"l"," ").concat(t?"LT":"LTS")}function _(e){if(isNaN(Date.parse(e||""))){var t=new Date,r=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),n=new Date(r+" "+e),a=new Date(n);return a.setFullYear(1899,11,30),a.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),a}return new Date(e)}function x(e){return("00"+e).slice(-2)}function L(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}function N(e){var t=new Date(e),r=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()-r),t}function M(e){var t=new Date(e),r=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()+r),t}function B(e,t){return null==e?null:((e=new Date(e)).setTime((0,u.default)(e).add(t,"days").toDate().getTime()),e)}function U(e){return e.setUTCDate(e.getUTCDate()+(6-e.getUTCDay())),e}function F(e){if(null!=e&&"function"==typeof e.split){var t=e.split(":");if(3==t.length){var r=Number(t[0]);if(t[0]&&"function"==typeof t[0].split){var n=t[0].split(".");2==n.length&&(r=24*Number(n[0])+Number(n[1]))}return{isNegative:"-"===e[0],hours:r,mins:Number(t[1]),secs:Number(t[2])}}}return{isNegative:!1,hours:0,mins:0,secs:0}}function j(e){return e<0?"-"+j(-1*e):e<10?"0"+e:String(e)}function G(e){var t=j(e.hours)+":"+j(e.mins)+":"+j(e.secs);return e.isNegative&&"-"!==t[0]&&(t="-"+t),t}function W(e){return e.isNegative?3600*e.hours-60*e.mins-e.secs:3600*e.hours+60*e.mins+e.secs}function V(e){var t=!1;e<0&&(t=!0,e=-e);var r=Math.floor(e/3600);e-=3600*r;var n=Math.floor(e/60);return t&&(r=-r),{isNegative:t,hours:r,mins:n,secs:e-=60*n}}function H(e,t){var r=F(e),n=F(t);return G(V(W(r)+W(n)))}function Y(e){return c.default.sum(e.map((function(e){return Number(e)||0})))}function K(e){return encodeURIComponent(e)}var z=function(){function e(t,r){(0,i.default)(this,e),r&&(this._parent=r),this._store={},t&&this.store(t)}return(0,l.default)(e,[{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"keys",value:function(){return c.default.keys(this._store)}},{key:"forEach",value:function(e){c.default.toPairs(this._store).forEach((function(t){var r=(0,s.default)(t,2),n=r[0],a=r[1];return e(n,a)}))}},{key:"get",value:function(e){return this._store[e]}},{key:"for",value:function(t){return this._store[t]=this._store[t]||new e(null,this),this._store[t]}},{key:"from",value:function(e){return this.for(e)}},{key:"store",value:function(e,t){return"object"===(0,o.default)(e)&&void 0===t?c.default.extend(this._store,e):this._store[e]=t,this.root}},{key:"push",value:function(e,t){var r=this._store[e]||[];return Array.isArray(r)||(r=[r]),r.push(t),this._store[e]=r,this.root}},{key:"merge",value:function(t){return e.merge(this,t)}},{key:"extend",value:function(e){return c.default.cloneDeep(this).merge(e)}},{key:"isEmpty",value:function(){return c.default.isEmpty(this._store)}},{key:"toSimpleObject",value:function(){return c.default.reduce(this._store,(function(t,r,n){return t[n]=r instanceof e?r.toSimpleObject():r,t}),{})}}],[{key:"merge",value:function(t,r){return c.default.keys(r._store).forEach((function(n){var a=r.get(n);a instanceof e?t.store(n,t.for(n).merge(a)):t.store(n,a)})),t}}]),e}();t.NestedStore=z;var J="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.getGroupAggregateFromString=function(e){if(!e||"NONE"===e)return null;var t=" :: ",r=e.indexOf(t);return r>=0?{func:e.substring(0,r),column:e.substring(r+t.length)}:{func:e}};var q=function(e,t){var r=new Map;return e.forEach((function(e){var n,o=e[t],i=null!==(n=r.get(o))&&void 0!==n?n:[];r.set(o,[].concat((0,a.default)(i),[e]))})),r};t.getGroupByMap=q;var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e=t&&null==t.control().DisplayName&&t.control().Name.endsWith("_Detail")?"Details":e.replace(/_/g," ")};t.makePrettyTitle=X;t.getJSONFromString=function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}};t.maxDimensionPixels=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.max(t,r)*(null!==(e=window.devicePixelRatio)&&void 0!==e?e:1))};t.chooseInlineViewType=function(e){var t,r,n=e.tableSchema,a=e.tableName,o=e.allowedViewTypes||["gallery","chart","map","deck","table","card"],i=S.AppGlobals.AppModel.FindControlsForTable(a,["gallery","deck","fastTable"],!0).filter((function(e){return c.default.includes(o,e.Action)})),l=c.default.sortBy(i,(function(e){var t=e.Action?o.indexOf(e.Action):-1;return"ref"!==e.Position?t+=10:"App owner"!==e.CreatedBy&&(t+=5),t})),s=null;return l.length?(s=l[0],t=S.AppGlobals.AppModel.NavStateForView(s,a),r=s.Action):(null==n?void 0:n.isPhotogenic())?(r="gallery",t={}):(r="table",t={}),{viewState:t,viewType:r,viewControl:s}};t.isUserSettingsTable=function(e){return e===y.USER_SETTINGS_TABLE_NAME};var Q={defaultTimezoneOffset:b,useDateLocaleOption:P,addDays:B,addDurationHours:function(e,t){var r=F(e);return r.hours+=t,G(r)},addHelperControls:function(e,t){"CalendarDay"==e.Name&&$("#"+t).datepicker()},addHours:function(e,t){return null==e?null:((e=new Date(e)).setUTCHours(e.getUTCHours()+t),e)},addMinutes:function(e,t){return null==e?null:((e=new Date(e)).setUTCMinutes(e.getUTCMinutes()+t),e)},addSeconds:function(e,t){return null==e?null:((e=new Date(e)).setUTCSeconds(e.getUTCSeconds()+t),e)},arrayInsertSorted:function(e,t,r,n){n||(n=function(e){return e});var a=n(t);if(-1!==c.default.findIndex(e,(function(e){return n(e)===a})))return e;var o=c.default.sortedIndexBy(e,t,(function(e){var t=n(e);return c.default.findIndex(r,(function(e){return n(e)===t}))})),i=c.default.clone(e);return i.splice(o,0,t),i},arrayToggle:function(e,t,r){var n;return c.default.includes(e,t)?n=c.default.without(e,t):r?(n=c.default.clone(e||[])).push(t):n=[t],n},capitalizeFirst:L,compareObjs:function(e,t){return c.default.union(c.default.keys(e),c.default.keys(t)).filter((function(r){return!c.default.isEqual(e[r],t[r])}))},computeImageSizing:function(e){var t=e.containerWidth,r=e.containerHeight,n=e.imageWidth,a=e.imageHeight,o=e.mode,i=n,l=a;if("contain"===o){if(i>t){var s=n/t;i/=s,l/=s}if(l>r){var u=l/r;i/=u,l/=u}}else if("cover"===o){if(i/l<t/r)i=t,l/=n/t;else i/=a/r,l=r}return{top:r/2-l/2,left:e.centerHorizontal?t/2-i/2:0,scaledWidth:i,scaledHeight:l}},dateRelative:function(e){switch(e){case"tomorrow":return R(B(new Date,1))||"";case"this-weekend":return R(U(new Date))||""}return e},dateToTime:function(e){return e?x(e.getHours())+":"+x(e.getMinutes())+":"+x(e.getSeconds()):null},dayDiff:function(e,t){return Math.floor((e.getTime()-t.getTime())/864e5)},diffDates:function(e,t){return G(V((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))/1e3))},diffDurations:function(e,t){var r=F(e),n=F(t);return G(V(W(r)-W(n)))},diffTimes:function(e,t){var r=e.getTime()-t.getTime();return G(V(Math.ceil(r/1e3)))},extractTextFromPlaceholderUrl:function(e){var t;try{e=decodeURIComponent(e).replace(/https:\/\/[^.]+\.appsheet\.com\/remote\//,"")}catch(e){return null}var r=c.default.startsWith(e,"https://placeholdit.imgix.net/~text?");if(c.default.startsWith(e,"https://via.placeholder.com"))return(e.split("text=")[1]||"").replace(/\?.*/,"");if(r){var n=e.match(/https\:\/\/placeholdit\.imgix\.net\/~text\?(.*)/);if(n)return(null===(t=d.default.parse(n[1]).txt)||void 0===t?void 0:t.toString())||null}return null},formatNumberLength:O,fromDurationString:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=e.replace(/^(-?\d+\:\d{2})(:\d{2})?$/,"$1:00")),e},fromLocaleDateTimeString:function(e,t,r){return(0,u.default)(e,D(t,r)).toDate()},getDateFromDateTimeString:function(e){return M(new Date(e+="Z"))},getDateTimeString:function(e){return N(e).toISOString().replace("Z","")},getDayName:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()]},getDurationSecs:W,getGroupByMap:q,getMomentDatetimeLocaleFormat:D,getUrlSafeBase64:function(e){return btoa(e).replace("=","").replace("+","-").replace("/","_")},getWeek:function(e){var t=new Date(e);t.setHours(0,0,0,0);var r=new Date(e.getFullYear(),0,1),n=t.getTime()-r.getTime();return Math.ceil((n/864e5+r.getDay()+1)/7)},hashCode:function(e){var t,r=0;if(!e||"string"!=typeof e)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},HMSformat:function(e,t){return null==e?null:t?O(e.getHours(),2)+":"+O(e.getMinutes(),2)+":"+O(e.getSeconds(),2):O(e.getUTCHours(),2)+":"+O(e.getUTCMinutes(),2)+":"+O(e.getUTCSeconds(),2)},htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},isGuid:function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},isHexColor:function(e){return c.default.isString(e)&&(4===e.length||7===e.length)&&/^#[0-9A-F]+$/i.test(e)},localeAdjustedBackwardDate:N,localeAdjustedForwardDate:M,localizeDateTime:function(e,t,r){var n=new Date(e);if(P()){var a={hour12:!0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};t||(a.second="2-digit"),r&&(a.month="long",a.day="numeric");var o=navigator.language;return n.toLocaleString(o,a)}var i=t?"l LT":"l LTS";return r&&(i="l"+i),(0,u.default)(n).format(i)},mailToUrl:function(e,t,r,n){return"mailto:"+e+"?subject="+K(t)+"&body="+K(r)+(n?"":K(" \r\n\r\n(powered by AppSheet.com)"))},makeDuration:V,makeElementId:function(e){return null===e?"":e.replace(/[ \u00A0()\\\/&\r\n<>|!;~`\[\]\{\}%:#*"\'$^@%=\+]/g,"_").replace(/[?,.]/g,"")},makeGuid:function(){return(0,m.makeGuid)()},makePrettyTitle:X,MDformat:function(e,t){return null==e?null:t?O(e.getMonth()+1,2)+"/"+O(e.getDate(),2):O(e.getUTCMonth()+1,2)+"/"+O(e.getUTCDate(),2)},MDYformat:R,MDYHMformat:function(e,t){return null==e?null:t?O(e.getMonth()+1,2)+"/"+O(e.getDate(),2)+"/"+O(e.getFullYear(),4)+" "+O(e.getHours(),2)+":"+O(e.getMinutes(),2):O(e.getUTCMonth()+1,2)+"/"+O(e.getUTCDate(),2)+"/"+O(e.getUTCFullYear(),4)+" "+O(e.getUTCHours(),2)+":"+O(e.getUTCMinutes(),2)},MDYHMSformat:function(e,t){return null==e?null:t?O(e.getMonth()+1,2)+"/"+O(e.getDate(),2)+"/"+O(e.getFullYear(),4)+" "+O(e.getHours(),2)+":"+O(e.getMinutes(),2)+":"+O(e.getSeconds(),2):O(e.getUTCMonth()+1,2)+"/"+O(e.getUTCDate(),2)+"/"+O(e.getUTCFullYear(),4)+" "+O(e.getUTCHours(),2)+":"+O(e.getUTCMinutes(),2)+":"+O(e.getUTCSeconds(),2)},measureText:function(e,t){var r=$("<div>").addClass(t).css({display:"inline"}).text(e);r.appendTo(document.body);var n=Math.ceil(r.width());return r.remove(),n},measureWidestText:function(e,t){var r=$("<div>").addClass(t).css({display:"inline"});e.forEach((function(e){r.append($("<span>").text(e)),r.append($("<br>"))})),r.appendTo(document.body);var n=Math.ceil(r.width());return r.remove(),n},moreThanAWeekOld:function(e){return e<new Date-6048e5},noop:function(){},pad2:x,pad2Digits:j,parseDuration:F,phoneUrl:function(e){return"tel:"+e},regexEscape:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},removeNewlines:function(e){return e.split(/[\n\r]/).map((function(e){return e.trim()})).join(" ")},smsUrl:function(e,t){return"sms:"+e+(null!=t?(f.default.IsIOSBrowser()?"&body=":"?body=")+encodeURIComponent(t):"")},stringifyDuration:G,stripRefImageValue:function(e,t){switch(t){case"Image":case"Drawing":case"Signature":case"Thumbnail":case"File":if(e&&"string"==typeof e&&e.length>0&&"http"!==e.substr(0,4)&&"data"!==e.substr(0,4)&&e.indexOf("::")>0){var r=e.split("::");2===r.length&&(e=r[1])}}return e},subtractDurationHours:function(e,t){var r=F(e);return r.hours-=t,G(r)},addDurations:H,thisWeekend:U,timeToDate:_,toDurationString:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof e&&(t&&(e=e.replace(/^(-?\d+\:\d{2})(:\d{2})$/,"$1")),e=e.replace(/^(-?)0*(\d+:.*)/,"$1$2")),e},toLocaleDateString:function(e,t){var r="string"==typeof e?new Date(e+" 12:00:00"):e;if(P()){var n={hour12:!0,year:"numeric",month:"2-digit",day:"2-digit"};t&&(n.month="long",n.day="numeric");var a=navigator.language;return r.toLocaleDateString(a,n)}var o=t?"ll":"l";return(0,u.default)(r).format(o)},toLocaleDateTimeString:function(e,t,r){var n="string"==typeof e?new Date(e):e;return(0,u.default)(n).format(D(t,r))},toLocaleTimeString:function(e,t){var r="string"==typeof e?_(e):e;return(0,u.default)(r).format(t?"LT":"LTS")},toTitleCase:function(e){return e.replace(/_/g," ").replace(/\w\S*/g,L)},TZformat:function(e){return null==e?null:e.getUTCFullYear()+"-"+O(e.getUTCMonth()+1,2)+"-"+O(e.getUTCDate(),2)+"T"+O(e.getUTCHours(),2)+":"+O(e.getUTCMinutes(),2)+":"+O(e.getUTCSeconds(),2)+"Z"},uuid:function(e,t){var r,n,a=[];if(t=t||J.length,e)for(r=0;r<e;r++)a[r]=J[0|Math.random()*t];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",r=0;r<36;r++)a[r]||(n=0|16*Math.random(),a[r]=J[19==r?3&n|8:n]);return a.join("")},YMDformat:function(e,t){return null==e?null:t?O(e.getFullYear(),4)+"-"+O(e.getMonth()+1,2)+"-"+O(e.getDate(),2):O(e.getUTCFullYear(),4)+"-"+O(e.getUTCMonth()+1,2)+"-"+O(e.getUTCDate(),2)},YMformat:function(e,t){return null==e?null:t?O(e.getFullYear(),4)+"-"+O(e.getMonth()+1,2):O(e.getUTCFullYear(),4)+"-"+O(e.getUTCMonth()+1,2)}},Z=Q;t.default=Z},112368:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=r(646317),i=n(r(571524)),l=r(166089),s={AppVersion:function(){var e=3,t=(0,o.parseUrlQuery)();return void 0!==t.appver&&""!==t.appver&&(e=parseFloat(t.appver)),e},BackendVersion:null,RequiredIOSAppVersion:null,RequiredAndroidAppVersion:null,RequiredBackendVersion:null,IsIOSAppWithMinVersion:function(e){var t=!1;return i.default.InIOSWebView()&&Math.round(1e4*this.AppVersion())/1e4>=Math.round(1e4*parseFloat(e))/1e4&&(t=!0),t},IsAndroidAppWithMinVersion:function(e){var t=!1;return i.default.InAndroidWebView()&&Math.round(1e4*this.AppVersion())/1e4>=Math.round(1e4*parseFloat(e))/1e4&&(t=!0),t},SupportsBarcodeScan:function(){return i.default.InMobileWebView()||i.default.IsIFramePreview()},SupportsNfcScan:function(){return i.default.InIOSWebView()&&s.IsIOSAppWithMinVersion(10.5)||i.default.InAndroidWebView()&&s.IsAndroidAppWithMinVersion(12)||i.default.IsIFramePreview()},SupportsSpeechRecognition:function(){return s.IsIOSAppWithMinVersion(11.2)||i.default.InAndroidWebView()&&"function"==typeof window.JeeneeAndroid.startSpeechRecognition},SupportsFirebaseFileUpload:function(){var e;return!(null===(e=l.AppGlobals.AppModel)||void 0===e?void 0:e.appTemplate.isFirebaseDisabled)&&window.JeeneeAndroid&&"function"==typeof window.JeeneeAndroid.getFileStorageUrl&&s.IsAndroidAppWithMinVersion(13.5)},IsWhitelabelBrowser:function(){return i.default.IsWhitelabelBrowser()},setRequiredAppVersion:function(e,t,n){a=!1,this.BackendVersion||(this.BackendVersion=e),e&&(this.RequiredBackendVersion=e,this.BackendVersion<this.RequiredBackendVersion&&Promise.all([r.e("vendors-node_modules_protobufjs_minimal_js-node_modules_rfc4648_lib_index_js"),r.e("scripts__shared_lib_ServiceWorkerInterop_ts"),r.e("src_common_globals_build_ts")]).then(r.bind(r,737351)).then((function(e){return e.installOrUpdateServiceWorker()}))),t&&(this.RequiredIOSAppVersion=t,!a&&i.default.InIOSWebView()&&this.AppVersion()<this.RequiredIOSAppVersion&&(l.AppGlobals.ViewManager.ShowInfoDialog("Unsupported version","We think you may have an old version of AppSheet. Please check the iTunes Store to update to a newer version"),a=!0)),n&&(this.RequiredAndroidAppVersion=n,!a&&i.default.InAndroidWebView()&&this.AppVersion()<this.RequiredAndroidAppVersion&&(l.AppGlobals.ViewManager.ShowInfoDialog("Unsupported version","We think you may have an old version of AppSheet. Please check the Google Play Store to update to a newer version"),a=!0))},mlkitUnsupported:function(){return i.default.InAndroidWebView()?!this.IsAndroidAppWithMinVersion(14.5):!!i.default.InIOSWebView()&&!this.IsIOSAppWithMinVersion(14)}},u=s;t.default=u},635672:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0,t.ajaxDelete=function(e){var t={RequestVerificationToken:window.VerifiedAjaxPostToken,"x-requested-with":"XMLHttpRequest"};return fetch(e,{method:"DELETE",headers:t}).catch((function(t){var r=new m("DELETE",e,"delete failed",{src:"exception",exception:t});return r.report(),Promise.reject(r)})).then(A("DELETE",e,!1))},t.ajaxGet=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=fetch(e,r).catch((function(t){var r=new m("GET",e,"fetch failed",{src:"exception",exception:t});return r.report(),Promise.reject(r)}));return n.then(A("GET",e,t))},t.ajaxPost=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==a.contentType&&("json"===a.contentType&&(a.contentType="application/json"),a.contentType||(a.contentType=(null===(t=null==a?void 0:a.headers)||void 0===t?void 0:t["Content-Type"])||g));a.timeout=null!==(r=a.timeout)&&void 0!==r?r:0;var o,i=Object.assign({RequestVerificationToken:c.EditorGlobals.VerifiedAjaxPostToken,"x-requested-with":"XMLHttpRequest"},a.headers);!1===a.contentType||i["Content-Type"]||(i["Content-Type"]=a.contentType);o="application/json"===a.contentType?JSON.stringify(n):a.contentType&&a.contentType.startsWith("application/x-www-form-urlencoded")?new URLSearchParams(n).toString():n;var l=null;if(a.timeout>0){var s=new AbortController;setTimeout((function(){return s.abort()}),a.timeout),l=s.signal}var u=fetch(e,{method:"POST",headers:i,body:o,signal:l});return u.then(A("POST",e))},t.ajaxPostThirdParty=function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},t.textResponseHandler=void 0;var a=n(r(856690)),o=n(r(689728)),i=n(r(861655)),l=n(r(994993)),s=n(r(73808)),u=n(r(833496)),c=r(285697),d=n(r(496486)),p=n(r(593186));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var h=new Map([["text/html","text"],["text/plain","text"],["text/proto-base64","text"],["application/x-www-form-urlencoded","text"],["application/json","json"],["application/octet-stream","arraybuffer"],["application/x-google-protobuf","arraybuffer"]]),g="application/x-www-form-urlencoded; charset=UTF-8",m=function(e){(0,i.default)(r,e);var t=f(r);function r(e,n,o,i){var l;return(0,a.default)(this,r),(l=t.call(this,o)).method=e,l.url=n,l.message=o,l.source=i,l.status=0,l.statusText="",l.responseText="",l.responseJSON=void 0,l.exception=void 0,l.name=l.constructor.name,"jquery"===l.source.src?(l.status=l.source.jqXHR.status,l.statusText=l.source.jqXHR.statusText,l.responseText=l.source.jqXHR.responseText,l.responseJSON=l.source.jqXHR.responseJSON,l.exception=l.source.exception):"fetch"===l.source.src?(l.status=l.source.response.status,l.statusText=l.source.response.statusText,l.responseText=l.source.text||"",l.responseJSON=l.source.json,l.exception=l.source.exception):"exception"===l.source.src&&(l.exception=l.source.exception),l}return(0,o.default)(r,[{key:"report",value:function(){var e={message:this.message,responseText:this.responseText};this.exception instanceof Error?e.error=this.exception:this.exception&&(e.exception=this.exception),p.default.ReportHttpError(this.method,this.url,this.status,e)}}]),r}((0,u.default)(Error));t.HttpError=m;var v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){return n.text().catch((function(r){var a=new m(e,t,"response.text() failed",{src:"fetch",response:n,exception:r});return a.report(),Promise.reject(a)})).then((function(a){if(r&&!n.ok){var o=new m(e,t,"non-2xx status code",{src:"fetch",response:n,text:a});return o.report(),Promise.reject(o)}return{response:n,text:a}}))}};t.textResponseHandler=v;var S=function(e,t){return function(r){if(!r.ok){var n=new m(e,t,"non-2xx status code",{src:"fetch",response:r});return n.report(),Promise.reject(n)}return r.arrayBuffer().catch((function(n){var a=new m(e,t,"response.arrayBuffer() failed",{src:"fetch",response:r,exception:n});return a.report(),Promise.reject(a)}))}},y=function(e,t,r){return function(n){var a=n.response,o=n.text;try{var i=JSON.parse(o||"{}");if(!a.ok){var l=new m(e,t,"non-2xx status code",{src:"fetch",response:a,text:o,json:i});return l.report(),Promise.reject(l)}if(r&&d.default.has(i,"Success")&&!i.Success){var s=new m(e,t,"response.Success marked false",{src:"fetch",response:a,text:o,json:i});return s.report(),Promise.reject(s)}return i}catch(r){var u=new m(e,t,"JSON.parse failed",{src:"fetch",response:a,text:o,exception:r});return u.report(),Promise.reject(u)}}},A=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){var a=(n.headers.get("Content-Type")||"application/json").split(";")[0].trim();switch(h.get(a)||"text"){case"json":return v(e,t)(n).then(y(e,t,r));case"arraybuffer":return S(e,t)(n);default:return v(e,t,!0)(n).then((function(e){return e.text}))}}}},251347:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRollouts=t.NonAppDynamicRollouts=t.AppDynamicRollouts=void 0;var a=n(r(861655)),o=n(r(994993)),i=n(r(73808)),l=n(r(856690)),s=n(r(689728)),u=n(r(288306)),c=r(646317),d=r(285697),p=r(619387),f=r(836807),h=n(r(593186)),g=n(r(27401)),m=r(166089);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var S=window.hasOwnProperty("IS_IN_APP"),y=function(){function e(){(0,l.default)(this,e),this.enabledRolloutsForTesting=new Set}return(0,s.default)(e,[{key:"setRolloutsForTestingOverride",value:function(e){var t=this;this.enabledRolloutsForTesting.clear(),e.forEach((function(e){return t.enabledRolloutsForTesting.add(e)}))}},{key:"includeByTestingOverride",value:function(e){return this.enabledRolloutsForTesting.has(e)}}]),e}(),A=function(e){return!!function(e){var t;return((null===(t=(0,c.parseUrlQuery)().rollouts)||void 0===t?void 0:t.split(","))||[]).includes(e)}(e)||!function(e){var t;return((null===(t=(0,c.parseUrlQuery)().excludeRollouts)||void 0===t?void 0:t.split(","))||[]).includes(e)}(e)&&void 0},w=function(e){(0,a.default)(r,e);var t=v(r);function r(){var e;return(0,l.default)(this,r),(e=t.apply(this,arguments)).includeByUrl=(0,u.default)(A),e.includeByOwnerId=function(t){if(e.includeByTestingOverride(t))return!0;var r=e.includeByUrl(t);return void 0!==r?r:"editor"===f.CommonGlobals.currentBundle?d.EditorGlobals.inDynamicRolloutByOwnerId(t):(h.default.errorToDevConsole("includeByOwnerId called outside of app / editor. includeByOwnerId is not supported"),!1)},e.includeByUserId=function(t){if(e.includeByTestingOverride(t))return!0;var r=e.includeByUrl(t);return void 0!==r?r:"editor"===f.CommonGlobals.currentBundle?d.EditorGlobals.inDynamicRolloutByUserId(t):p.OtherBundlesGlobals.inDynamicRolloutByUserId(t)},e}return(0,s.default)(r)}(y);t.NonAppDynamicRollouts=w;var E=function(e){(0,a.default)(r,e);var t=v(r);function r(){var e;return(0,l.default)(this,r),(e=t.apply(this,arguments)).userRolloutsForSession=new Set(g.default.readUserRollouts()),e.includeByUrl=(0,u.default)(A),e}return(0,s.default)(r,[{key:"includeByOwnerId",value:function(e){if(this.includeByTestingOverride(e))return!0;var t=this.includeByUrl(e);return void 0!==t?t:!!m.AppGlobals.AppModel.inDynamicRolloutByOwnerId(e)}},{key:"includeByUserId",value:function(e){if(this.includeByTestingOverride(e))return!0;var t=this.includeByUrl(e);return void 0!==t?t:this.userRolloutsForSession.has(e)}}]),r}(y);t.AppDynamicRollouts=E;var T=S?new E:new w;t.dynamicRollouts=T},44617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RolloutValue",{enumerable:!0,get:function(){return n.RolloutValue}}),Object.defineProperty(t,"dynamicRollouts",{enumerable:!0,get:function(){return n.dynamicRollouts}});var n=r(251347)},218546:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.VFEEventLabel=t.MyAppsEventName=t.MergedEventNames=t.MergedEventNameSet=t.EventName=t.EditingEmulatorButtonClickEventLabel=t.AutomationEventLabel=t.AppTelemetryEventName=t.AppGalleryEventName=t.AppEventName=t.ActionEventLabel=void 0;var a,o,i,l,s,u,c,d,p,f=n(r(496486));t.EventName=a,function(e){e.ScenarioStart="Scenario Start",e.ScenarioEnd="Scenario End",e.AddNewSource="Add New Source",e.SelectSourceType="Select Source Type",e.TemplatePageVisit="Template Page Visit",e.TemplateCopyApp="Template Copy App",e.TemplateExplore="Template Explore",e.TemplateViewDetails="Template View Details",e.TemplateSearch="Template Search",e.ExpressionAssistantOpen="Expression Assistant Open",e.ExpressionAssistantClose="Expression Assistant Close",e.ExpressionAssistantCheck="Expression Assistant Check",e.ExpressionAssistantTest="Expression Assistant Test",e.ExpressionAssistantFirstExpressionChange="Expression Assistant First Expression Change",e.ExpressionAssistantHelp="Expression Assistant Help",e.ExpressionAssistant="Expression Assistant",e.ExpressionAssistantSave="Expression Assistant Save",e.ExpressionAssistantCancel="Expression Assistant Cancel",e.ExpressionAssistantColumnInsert="Expression Assistant Column Insert",e.ExpressionAssistantRefPersisted="Expression Assistant Ref Persisted",e.ExpressionAssistantInsert="Expression Assistant Insert",e.ExpressionAssistantInitialState="Expression Assistant Initial State",e.ExpressionAssistantTabChange="Expression Assistant Tab Change",e.ExpressionAssistantEnableEnhanced="Expression Assistant Enable Enhanced",e.ExpressionAssistantDisableEnhanced="Expression Assistant Disable Enhanced",e.ExpressionAssistantDocumentationOpen="Expression Assistant Documentation Open",e.ExpressionAssistantAutocompleteAccept="Expression Assistant Autocomplete Accept",e.ReturnsToAddDataFlow="ReturnsToAddDataFlow",e.DataTab="Data Tab",e.AppTab="App Tab",e.AppViewsTab="App Views Tab",e.ActionsTab="Actions Tab",e.AutomationTab="Automation Tab",e.AutomationBotsTab="Automation Bots Tab",e.AutomationEventsTab="Automation Events Tab",e.AutomationProcessesTab="Automation Processes Tab",e.AutomationTasksTab="Automation Tasks Tab",e.ErrorsandWarningsTab="Errors and Warnings Tab",e.IntelligenceTab="Intelligence Tab",e.SecurityTab="Security Tab",e.SettingsTab="Settings Tab",e.LearnTab="Learn Tab",e.ManageTab="Manage Tab",e.BehaviorTab="Behavior Tab",e.DesignTab="Design Tab",e.UXTab="UX Tab",e.AppFormatRulesTab="App Format Rules Tab",e.ChatappsTab="Chat Apps Tab",e.HomeTab="Home Tab",e.InfoTab="Info Tab",e.TablesTab="Tables Tab",e.UsersTab="Users Tab",e.GenAITab="GenAI Tab",e.EditorSideNavEvent="Editor Side Nav Event",e.AutomationEditingExperienceFailed="Automation Editing Experience - Failed",e.AutomationEditingExperienceSuccess="Automation Editing Experience - Success",e.EmptyPaneAddAction="Empty Pane - Add Action",e.EmptyPaneDeleteTable="Empty Pane - Delete Table",e.EmptyPaneAddFormatRule="Empty Pane - Add Format Rule",e.EmptyPaneAddView="Empty Pane - Add View",e.EmptyPaneAddData="Empty Pane - Add Data",e.EmptyPaneAddPredictiveModel="Empty Pane - Add Predictive Model",e.EmptyPaneAddOCRModel="Empty Pane - Add OCR Model",e.EmptyPaneGoToHome="Empty Pane - Go to home",e.InContextActionDone="InContext Action Done",e.InContextActionNavigation="InContext Action Navigation",e.InContextColumnDone="InContext Column Done",e.InContextColumnNavigation="InContext Column Navigation",e.InContextSchemaDone="InContext Schema Done",e.InContextSchemaNavigation="InContext Schema Navigation",e.InContextSchemaViewSource="InContext Schema View Source",e.InContextSchemaAddVC="InContext Schema Add Virtual Column",e.InContextSliceDelete="InContext Slice Delete",e.InContextSliceDone="InContext Slice Done",e.InContextSliceNavigation="InContext Slice Navigation",e.InContextClick="InContext Click",e.InContextClickAction="InContext Click Action",e.InContextClickColumn="InContext Click Column",e.InContextClickSchema="InContext Click Schema",e.InContextClickSlice="InContext Click Slice",e.ReturnsToAddNewTableFlow="Returns To Add New Table Flow",e.Add="Add",e.AddAppBots="Add App Bots",e.AddAppEvent="Add App Event",e.AddAppProcess="Add App Process",e.AddDataAction="Add Data Action",e.AddFormatRule="Add Format Rule",e.AddNewTable="Add New Table",e.AddOcrModel="Add Ocr Model",e.AddPredictiveModel="Add Predictive Model",e.AddSlice="Add Slice",e.AddTable="Add Table",e.AddTask="Add Task",e.AddFact="Add Fact",e.AddView="Add View",e.AddWorkflowRule="Add Workflow Rule",e.Copy="Copy",e.CopyAppBots="Copy App Bots",e.CopyAppEvent="Copy App Event",e.CopyAppProcess="Copy App Process",e.CopyDataAction="Copy Data Action",e.CopyFormatRule="Copy Format Rule",e.CopyNotSignedIn="Copy Not Signed In",e.CopyOcrModel="Copy Ocr Model",e.CopyPredictiveModel="Copy Predictive Model",e.CopySignedIn="Copy Signed In",e.CopySlice="Copy Slice",e.CopyTask="Copy Task",e.CopyView="Copy View",e.CopyWorkflowRule="Copy Workflow Rule",e.HardDelete="Hard Delete",e.HardDeleteView="Hard Delete View",e.HardDeleteFormatRule="Hard Delete Format Rule",e.HardDeleteDataAction="Hard Delete Data Actions",e.HardDeleteTable="Hard Delete Table",e.HardDeleteSlice="Hard Delete Slice",e.HardDeletePredictiveModel="Hard Delete Predictive Model",e.HardDeleteOcrModel="Hard Delete Ocr Model",e.HardDeleteAppProcess="Hard Delete Process",e.HardDeleteAppBots="Hard Delete Bot",e.HardDeleteAppEvent="Hard Delete Event",e.HardDeleteTask="Hard Delete Task",e.SoftDelete="Soft Delete",e.SoftDeleteView="Soft Delete View",e.SoftDeleteFormatRule="Soft Delete Format Rule",e.SoftDeleteDataAction="Soft Delete Data Actions",e.SoftDeleteTable="Soft Delete Table",e.SoftDeleteSlice="Soft Delete Slice",e.SoftDeletePredictiveModel="Soft Delete Predictive Model",e.SoftDeleteOcrModel="Soft Delete Ocr Model",e.SoftDeleteAppProcess="Soft Delete Process",e.SoftDeleteAppBots="Soft Delete Bot",e.SoftDeleteAppEvent="Soft Delete Event",e.SoftDeleteTask="Soft Delete Task",e.EditorSuggestionSearchAccept="Editor Suggestion Search Accept",e.EditorSuggestionSearchCancel="Editor Suggestion Search Cancel",e.EditorSuggestionSearchOpen="Editor Suggestion Search Open",e.SuggestionAccept="Suggestion Accept",e.SuggestionExpand="Suggestion Expand",e.SuggestionInteractionAccept="Suggestion Interaction Accept",e.SuggestionInteractionAlternate="Suggestion Interaction Alternate",e.SuggestionInteractionReject="Suggestion InteractionReject",e.SuggestionReject="Suggestion Reject",e.SuggestionSearchAccept="Suggestion Search Accept",e.SuggestionSearchCancel="Suggestion Search Cancel",e.SuggestionSearchOpen="Suggestion Search Open",e.GenAISendUserMessage="GenAI - Send User Message",e.GenAIAcceptSuggestion="GenAI - Accept Suggestion",e.GenAIClickInfoCard="GenAI - Click Info Card",e.GenAISave=" GenAI - Save in Pane",e.GenAIActiveChangesWhenLeavingPane="GenAI - Active Changes When Leaving Pane",e.GenAIMessengerStateWhenLeaving="GenAI - Messenger State When Leaving",e.GenAIAcceptNotice="GenAI - Accept Notice",e.GenAIClickAppNavigationChip="GenAI - Click App Navigation Chip",e.GenAIClickDropdownChip="GenAI - Click Dropdown Chip",e.GenAIClickExternalNavigationChip="GenAI - Click External Navigation Chip",e.GenAIClickInContextChip="GenAI - Click In Context Chip",e.GenAIClickInternalNavigationChip="GenAI - Click Internal Navigation Chip",e.GenAIClickTextChip="GenAI - Click Text Chip",e.GenAIClickMenuChip="GenAI - Click Menu Chip",e.GenAICopyText="GenAI - Copy Text",e.GenAIUserMessages="GenAI - User Messages",e.GenAIAgentMessages="GenAI - Agent Messages",e.EditingEmulatorChangeModeToEdit="Editing Emulator Change Mode To Edit",e.EditingEmulatorChangeModeToPreview="Editing Emulator Change Mode To Preview",e.EmulatorBottomBarTableClick="Emulator Bottom Bar Table Click",e.EmulatorBottomBarViewClick="Emulator Bottom Bar View Click",e.AppTemplateEditMade="App Template Edit Made",e.AccountSubEmail="Account Subscribe Email",e.ActionButtonClick="Action Button Click",e.AddSliceNoSuggestions="Add Slice No Suggestions",e.AddSource="Add Source",e.AddSourceFailed="Add Source Failed",e.AddUserToExperiment="AddUserToExperiment",e.AppIsReadOnly="App Is Read Only",e.AppServicesClick="App Services Click",e.AppSheetTables="AppSheet Tables",e.ApproveAudit="Approve Audit",e.AppsScriptHelpButtonClick="Apps Script Help Button Click",e.AppsScriptSampleScriptButtonClick="Apps Script Sample Script Button Click",e.AuditWorkflowRule="Audit Workflow Rule",e.BotUpgradeCanceled="Bot upgrade canceled",e.BotUpgradeConfirmed="Bot upgrade confirmed",e.BotUpgradeFailed="Bot upgrade failed",e.BotUpgradeSucceeded="Bot upgrade succeeded",e.BroadcastNotify="Broadcast Notify",e.ButtonClickAccountCancelOrder="Button Click Account CancelOrder",e.ButtonClickAccountChangePlan="Button Click Account ChangePlan",e.ButtonClickAccountDeleteCard="Button Click Account DeleteCard",e.ButtonClickAccountOrderFail="Button Click Account OrderFail",e.ButtonClickAccountOrderSuccess="Button Click Account OrderSuccess",e.ButtonClickAccountReplaceCard="Button Click Account ReplaceCard",e.ButtonClickAccountSubmitOrder="Button Click Account SubmitOrder",e.ChangeColumnType="Change Column Type",e.ChangedDefaultInviteMessage="Changed Default Invite Message",e.ChatClickProjectCreateHelp="Chat Click Project Create Help",e.ChatNextStep="Chat Next Step",e.ChatTaskEmbeddedAppViewHelpIconClick="Chat Task Embedded App View Help Icon Click",e.ChatTaskPreviewChatMessageClick="Chat Task Preview Chat Message Click",e.ChatTaskViewSelected="Chat Task View Selected",e.ClearFacts="Clear Facts",e.ClickCopyAppAction="Click Copy App Action",e.ClickDeleteAccountSettings="Click Delete Account Settings",e.ClickDeployedIndicator="Click Deployed Indicator",e.ClickGetStartedChoice="Click Get Started Choice",e.ClickNewAppStartWithData="Click New App Start With Data",e.ClickNewAppStartWithIdea="Click New App Start With Idea",e.ClickNewAppStartWithSample="Click New App Start With Sample",e.ClickNewAppStartWithTutorial="Click New App Start With Tutorial",e.ClickNode="Click Node",e.ClickUpdateAccountSettings="Click Update Account Settings",e.CloseCreateNewAppModal="Close Create New App Modal",e.CloseCreateNewAppModalWithErrorGoToTemplates="Create New App With Error Go To Templates",e.CloseCreateNewAppModalWithErrorOkButton="Create New App Modal With Error OK Button",e.CloseDeleteModal="Close Delete Modal",e.CloseNewDocumentModal="Close New Document Modal",e.CloseNewTableControl="Close New Table Control",e.CloseSourceSelectControl="Close Source Select Control",e.CloseSourceSelectModal="Close Source Select Modal",e.CreateBlankTableInExistingBase="Create Blank Table In Existing Base",e.CreateBlankTableInNewBase="Create Blank Table In New Base",e.CreateNewDatabase="Create New Database",e.DataActionTriggered="Data Action Triggered",e.DataSchemaExplorerEvent="Data Schema Explorer Event",e.DebuggerBotExecution="Debugger Bot Execution",e.DefunctEventCalled="Defunct Event Called",e.DeleteAccount="Delete Account",e.DeleteAccountSettingsCancel="Delete Account Settings Cancel",e.DeleteAccountSettingsConfirm="Delete Account Settings Confirm",e.DeployAudit="Deploy Audit",e.DeployAuditContinueEditing="Deploy Audit Continue Editing",e.DeployAuditError="Deploy Audit Error",e.DeployAuditFinished="Deploy Audit Finished",e.DeployedAppWithDatabaseTables="Deployed App With Database Tables",e.Disable="Disable",e.DisableAudit="Disable Audit",e.DisableFact="Disable Fact",e.DisableNewEditorExperience="Disable New Editor Experience",e.DisableWhitelabelApp="Disable Whitelabel App",e.DomainAdd="Domain Add",e.EditorLoad="Editor Load",e.EditorLoadStarting="Editor Load Starting",e.EditorNotification="Editor Notification",e.EditorNotificationClick="Editor Notification Click",e.EditorNotificationCount="Editor Notification Count",e.EditorNotificationResolution="Editor Notification Resolution",e.EditorSave="Editor Save",e.EditorSignIn="Editor Sign In",e.EditorSignOut="Editor Sign Out",e.EmailTaskAmpViewSelected="Email Task AMP View Selected",e.EmailTaskEmailTypeHelpIconClick="Email Task Email Type Help Icon Click",e.EmailTaskEmailTypeSelected="Email Task Email Type Selected",e.EmailTaskEmbeddedAppViewHelpIconClick="Email Task Embedded App View Help Icon Click",e.EmailTaskPreviewEmailClick="Email Task Preview Email Click",e.Enable="Enable",e.EnableFact="Enable Fact",e.EnableNewEditorExperience="Enable New Editor Experience",e.EnableOrDisableAPI="Enable Or Disable API",e.EnableOrDisableChatBot="Enable Or Disable Chat Bot",e.ExternalLink="External Link",e.FailedOrderSubmission="Failed Order Submission",e.FetchLogs="Fetch Logs",e.FetchStatistics="Fetch Statistics",e.FileControlClickEvent="File Control Click Event",e.Home="Home",e.MonitorBotExecution="Monitor Bot Execution",e.MyAppsPageVisit="My Apps Page Visit",e.MyAppsQuickStart="My Apps Quick Start",e.NewAppForm="New App Form",e.NewSignupWeb="New Signup Web",e.NextStep="Next Step",e.OnboardingModalLoaded="Onboarding Modal Loaded",e.OpenEditColumnModal="Open Edit Column Modal",e.OpenNextStepModal="Open Next Step Modal",e.PartnerHelp="Partner Help",e.PauseApp="Pause App",e.PolicyPreviewBatch="Policy Preview Batch",e.RearrangeMenuViews="Rearrange Menu Views",e.RearrangeRuleActions="Rearrange Rule Actions",e.RecaptchaCompleted="Recaptcha Completed",e.RecaptchaExpired="Recaptcha Expired",e.RedoAction="Redo Action",e.RemindUserEmailSent="Remind User Email Sent",e.RenameApp="Rename App",e.ResumeApp="Resume App",e.RunBotExecution="Run Bot Execution",e.SavedWhileAppWasOutOfDate="Saved While App Was Out Of Date",e.SchemaRegen="Schema Regen",e.Search="Search",e.SearchSampleApps="Search Sample Apps",e.SelectAirtable="Select airtable",e.SelectApigeeApi="Select apigee_api",e.SelectBox="Select box",e.SelectDatabase="Select database",e.SelectDreamFactory="Select dream_factory",e.SelectDropbox="Select dropbox",e.SelectDropboxRestricted="Select dropbox-restricted",e.SelectFact="Select Fact",e.SelectGoogle="Select google",e.SelectGoogleCalendar="Select google_calendar",e.SelectGoogleTable="Select google_tables",e.SelectJira="Select jira",e.SelectMicrosoft="Select microsoft",e.SelectNative="Select native",e.SelectNode="Select Node",e.SelectOData="Select odata",e.SelectOffice365="Select office365",e.SelectOneDrive="Select onedrive",e.SelectQualifier="Select Qualifier",e.SelectQuickBooks="Select quickbooks",e.SelectSageOne="Select sage_one",e.SelectSalesforce="Select salesforce",e.SelectSmartsheet="Select smartsheet",e.SelectSocrata="Select socrata",e.SelectTable="Select Table",e.SelectUnknownProvider="Select Unknown Provider",e.SelectedReverseRefNewButton="Selected Reverse Ref New Button",e.SelectedReverseRefViewButton="Selected Reverse Ref View Button",e.ShareAppButton="Share App Button",e.ShareDialogChangedDefaultInviteMessage="Share Dialog Changed Default Invite Message",e.ShareDialogCopyShareLink="Share Dialog Copy Share Link",e.ShareDialogCopyUsers="Share Dialog Copy Users",e.ShareDialogDomainAdd="Share Dialog Domain Add",e.ShareDialogDomainRemoved="Share Dialog Domain Removed",e.ShareDialogDomainRemovedUndo="Share Dialog Domain Removed Undo",e.ShareDialogOpenShareLinksDialog="Share Dialog Open Share Links Dialog",e.ShareDialogRecaptchaCompleted="Share Dialog Recaptcha Completed",e.ShareDialogRecaptchaExpired="Share Dialog Recaptcha Expired",e.ShareDialogRemindUserEmailSent="Share Dialog Remind User Email Sent",e.ShareDialogRequiredVersionChanged="Share Dialog Required Version Changed",e.ShareDialogRequiredVersionChangedUndo="Share Dialog Required Version Changed Undo",e.ShareDialogSubscribeEmail="Share Dialog Subscribe Email",e.ShareDialogUserPermissionChanged="Share Dialog User Permission Changed",e.ShareDialogUserPermissionChangedUndo="Share Dialog User Permission Changed Undo",e.ShareDialogUserRemoved="Share Dialog User Removed",e.ShareDialogUserRoleChanged="Share Dialog User Role Changed",e.ShareDialogUserRoleChangedUndo="Share Dialog User Role Changed Undo",e.ShouldRegenerateSchemaWarning="Should Regenerate Schema Warning",e.ShowReadonlyBanner="Show Read Only Banner",e.ShowVersionMismatchBanner="Show Version Mismatch Banner",e.SketchStart="Sketch Start",e.SubmitOnboardingModal="Submit Onboarding Modal",e.SwitchTab="Switch Tab",e.SwitchToFree="Switch To Free",e.SyncFailure="Sync Failure",e.TabClick="Tab Click",e.TableButtonClick="Table Button Click",e.TestBotExecution="Test Bot Execution",e.TestChangeWorkflowRule="Test Change Workflow Rule",e.TestScheduledWorkflowRule="Test Scheduled Workflow Rule",e.TimeToCompleteScenario="Time To Complete Scenario",e.ToNormalMode="To Normal Mode",e.ToRecoveryMode="To Recovery Mode",e.ToggleWebhookReturnValueOn="Toggle Webhook Return Value On",e.TopNavClick="Top Nav Click",e.UndoAction="Undo Action",e.UserListLoaded="User List Loaded",e.UserNavigatedAway="User Navigated Away",e.UsersManageCategoryToTab="USERS_MANAGE Category to Tab",e.WelcomeModal="Welcome Modal",e.WelcomeModalClickIframe="Welcome Modal - Click iframe",e.WhitelabelAppEvent="Whitelabel App Event"}(a||(t.EventName=a={})),t.AppEventName=o,function(e){e.RowSwipeLeftDeck="Row Swipe Left Deck",e.RowSwipeLeftCard="Row Swipe Left Card",e.RowSwipeRightDeck="Row Swipe Right Deck",e.RowSwipeRightCard="Row Swipe Right Card",e.DeckViewNestedTableColumnRender="Deck View Nested Table Column Render",e.AbandonForm="Abandon Form",e.ActionAbout="Action About",e.ActionAddShortcut="Action Add Shortcut",e.ActionAppGallery="Action App Gallery",e.ActionButton="Action Button",e.ActionCopyApp="Action Copy App",e.ActionCreateApp="Action Create App",e.ActionDiscardChanges="Action Discard Changes",e.ActionFeedback="Action Feedback",e.ActionShowChanges="Action Show Changes",e.AdvancedMenuActionLogout="Advanced Menu Action Logout",e.AppStart="App Start",e.AppSuggestion="App Suggestion",e.AutoCompleteItemSelect="Auto Complete Item Select",e.BackgroundSyncAppModelSwap="Background Sync App Model Swap",e.BackgroundSyncFailed="Background Sync Failed",e.BackgroundSyncSucceeded="Background Sync Succeeded",e.BarcodeScan="Barcode Scan",e.CancelForm="Cancel Form",e.DeleteAccount="Delete Account",e.DeparamNotLoaded="Deparam Not Loaded",e.FeedbackSent="Feedback Sent",e.FileChosen="File Chosen",e.FilterApplied="Filter Applied",e.FilterDrawerClosed="Filter Drawer Closed",e.FilterDrawerOpened="Filter Drawer Opened",e.FinishForm="Finish Form",e.FooterBackButton="Footer Back Button",e.FooterShareButton="Footer Share Button",e.FooterSyncButton="Footer Sync Button",e.HiddenActionButton="Hidden Action Button",e.IosCustomSchemeFailedPreview="Ios Custom Scheme Failed Preview",e.LoadDialogCancelButton="Load Dialog Cancel Button",e.ManifestClickedOK="Manifest Clicked Ok",e.ManifestInReloadApp="Manifest In Reload App",e.ManualSyncCompleted="Manual Sync Completed",e.MenuEntryButton="Menu Entry Button",e.NativeCachedFileRecovered="Native Cached File Recovered",e.NativeCachedFilesDeleted="Native Cached Files Deleted",e.NavbarSearchBtn="Navbar Search Btn",e.NetworkError="Network Error",e.NewSignupApp="New Signup App",e.NextFormPage="Next Form Page",e.NfcScanResult="Nfc Scan Result",e.Ocr="Ocr",e.Ocrtext="Ocrtext",e.PhotoTaken="Photo Taken",e.PullSyncCompleted="Pull Sync Completed",e.ReceivedNotification="Received Notification",e.ReduxAction="Redux Action",e.SaveEntryButton="Save Entry Button",e.ScanInputControl="Scan Input Control",e.SearchView="Search View",e.SearchViewFailure="Search View Failure",e.SearchViewFeedback="Search View Feedback",e.SearchViewSuccess="Search View Success",e.ShortcutAppStart="Shortcut App Start",e.ShowDataButton="Show Data Button",e.ShowFormPage="Show Form Page",e.ShowUIState="Show UI State",e.SkippedClearImageCache="Skipped ClearImageCache",e.SlideshowViewSwipeNext="Slideshow View Swipe Next",e.SlideshowViewSwipePrev="Slideshow View Swipe Prev",e.StartForm="Start Form",e.StartNfcScan="Start Nfc Scan",e.SubscribedToTopics="Subscribed To Topics",e.SyncAbort="Sync Abort",e.SyncTimeout="Sync Timeout",e.UndefinedPreviewAsEmailReturnsAuthUserEmail="UndefinedPreviewAsEmailReturnsAuthUserEmail",e.UndefinedPreviewAsRoleReturnsAuthUserRole="UndefinedPreviewAsRoleReturnsAuthUserRole",e.UsedCachedAddResponse="Used Cached Add Response",e.UsedCachedDeleteResponse="Used Cached Delete Response",e.UsedCachedUpdateResponse="Used Cached Update Response",e.VersionMismatch="Version Mismatch",e.VideoTaken="Video Taken",e.ViewChangeButton="View Change Button",e.WebviewCrash="Webview Crash"}(o||(t.AppEventName=o={})),t.AppTelemetryEventName=i,function(e){e.FetchAppTemplateCancel="Fetch App Template Cancel",e.FetchAppTemplateEnd="Fetch App Template End",e.FetchAppTemplateError="Fetch App Template Error",e.FetchAppTemplateStart="Fetch App Template Start",e.ModalSyncAlreadyInProgress="Modal Sync Already In Progress",e.ModalSyncCancel="Modal Sync Cancel",e.ModalSyncEnd="Modal Sync End",e.ModalSyncError="Modal Sync Error",e.ModalSyncStart="Modal Sync Start"}(i||(t.AppTelemetryEventName=i={})),t.MyAppsEventName=l,function(e){e.PageVisit="My Apps Page Visit",e.ReturnsToCreateAppFlow="Returns To Create App Flow",e.NoAppsTemplates="No Apps Click - Templates",e.MyAppsTimeToClickInSeconds="MyAppsTimeToClickInSeconds",e.EditInNewTab="Menu Click - Edit In New Tab",e.PreviewFullScreen="Menu Click - Preview full screen",e.PreviewMobile="Menu Click - Preview device sizes",e.Copy="Menu Click - Copy",e.Delete="Menu Click - Delete",e.SortClick="Sort Click",e.AppClick="App Click",e.AppClickInNewWindow="App Click - in new window",e.TableClick="Table Click",e.TableClickInNewWindow="Table Click - in new window",e.ShownProductClickApps="Shown Product Click - Apps",e.ShownProductClickTables="Shown Product Click - Tables",e.LayoutClickCard="Layout Click - Card",e.LayoutClickTable="Layout Click - Table",e.NavOwned="Nav Click - Owned",e.NavRecent="Nav Click - Recent",e.NavShared="Nav Click - Shared",e.NavTemplates="Nav Click - Templates",e.Documentation="Menu Click - Documentation",e.AppSheet101="Menu Click - AppSheet 101",e.CommunityForum="Menu Click - Community Forum",e.VideoTutorials="Menu Click - Video Tutorials",e.ContactSupport="Menu Click - Contact Support",e.Pricing="Menu Click - Pricing",e.Blog="Menu Click - Blog",e.Customers="Menu Click - Customers",e.Support="Menu Click - Support",e.Partners="Menu Click - Partners",e.Templates="Menu Click - Templates",e.CreateAppFromTemplate="Create App From Template",e.CreateBlankApp="Create Blank App",e.CreateAppFromDatasource="Create App From Datasource",e.CreateBlankDatabase="Create Blank Database",e.SelectCategory="Select Category",e.ClickCreateApp="Click Create App",e.OpenApp="Menu Click - Open app",e.Preview="Menu Click - Preview"}(l||(t.MyAppsEventName=l={})),t.AppGalleryEventName=s,function(e){e.PageVisit="App Gallery Page Visit",e.NavOwned="Nav Click - Owned",e.NavRecent="Nav Click - Recent",e.NavShared="Nav Click - Shared",e.NavOpen="Side Nav Bar - Drawer Opened",e.NavClose="Side Nav Bar - Drawer Closed",e.SignOut="Sign Out",e.OpenApp="Open app"}(s||(t.AppGalleryEventName=s={})),t.VFEEventLabel=u,function(e){e.Data="Click on Settings - Data",e.Information="Click on Settings - Information",e.Integrations="Click on Settings - Integrations",e.Legacy="Click on Settings - Legacy",e.Localization="Click on Settings - Localization",e.OfflineMode="Click on Settings - OfflineMode",e.Performance="Click on Settings - Performance",e.Relationships="Click on Settings - Relationships",e.ThemeAndBrand="Click on Settings - Theme & Brand",e.ViewTypeOptions="Click on Settings - ViewTypeOptions",e.Views="Click on Settings - Views",e.ViewsGeneral="Click on Settings - ViewsGeneral",e.ClickOnSideNavItem="Click Side Nav - Item"}(u||(t.VFEEventLabel=u={})),t.ActionEventLabel=c,function(e){e.ClickAddNewInSection="Click Add New (missing entity type)",e.ClickHeaderErrorIcon="Click Header - Error Icon",e.ClickHeaderSearchIcon="Click Header - Search Icon",e.ClickHeaderSettingsIcon="Click Header - Settings Icon",e.ClickHeaderWarningIcon="Click Header - Warning Icon",e.ClickNewAction="Click Add New Action - Header",e.ClickNewActionInTable="Click Add New Action - Table",e.ClickNewFormatRule="Click Add New Format Rule - Header",e.ClickNewFormatRuleInTable="Click Add New Format Rule - Table",e.ClickNewSlice="Click Add New Slice",e.ClickNewTable="Click Add New Table",e.ClickNewViewInMenuNav="Click Add New View - Menu",e.ClickNewViewInReferenceNav="Click Add New View - Reference",e.ClickNewViewInPrimaryNav="Click Add New View - Primary",e.ClickRearrange="Click Rearrange (missing entity type)",e.ClickRearrangeActions="Click - Rearrange Actions",e.ClickRearrangeMenuViews="Click Rearrange - MenuViews",e.ClickActionAddFavorite="Click Action - Add to Favorites",e.ClickActionRemoveFavorite="Click Action - Remove from Favorites",e.ClickActionDelete="Click Action - Delete",e.ClickActionCopy="Click Action - Copy",e.ClickActionShowInPreview="Click Action - Show In Preview",e.ClickActionMoveTo="Click Action - Move Item",e.ClickActionViewDataSource="Click Action - View Data Source",e.ClickActionPreviewData="Click Action - View Preview Data",e.ClickActionRegenerateSchema="Click Action - Regenerate Schema",e.ClickActionEnable="Click Action - Enable",e.ClickActionDisable="Click Action - Disable",e.ClickActionGenerateReport="Click Action - Generate Report",e.ClickActionExpandAll="Click Action - Expand all",e.ClickActionCollapseAll="Click Action - Collapse all",e.ClickOverflowMenu="Click Overflow - Open menu",e.ClickRunBotExecution="Click Action - Run Bot Execution",e.ClickTestBotExecution="Click Action - Test Bot Execution",e.ClickMonitorBotExecution="Click Action - Monitor Bot Execution"}(c||(t.ActionEventLabel=c={})),t.AutomationEventLabel=d,function(e){e.ClickRunBotExecution="Automation - Click Run Bot Execution",e.CopyBot="Automation - Copy Bot",e.CopyEvent="Automation - Copy Event",e.CopyProcess="Automation - Copy Process",e.CopyTask="Automation - Copy Task",e.DeleteBot="Automation - Delete Bot",e.DeleteEvent="Automation - Delete Event",e.DeleteProcess="Automation - Delete Process",e.DeleteTask="Automation - Delete Task",e.TestBotExecution="Automation - Test Bot Execution",e.MonitorBotExecution="Automation - Monitor Bot Execution",e.EnableProcessLinking="Automation - Enable Process Linking",e.DisableProcessLinking="Automation - Disable Process Linking",e.CreateComment="Automation - Create Comment",e.UpdateComment="Automation - Update Comment"}(d||(t.AutomationEventLabel=d={})),t.EditingEmulatorButtonClickEventLabel=p,function(e){e.EditingEmulatorActionClickGoToAction="Editing Emulator Action Click Go To Action",e.EditingEmulatorActionClickGoToColumn="Editing Emulator Action Click Go To Column",e.EditingEmulatorActionClickGoToColumnOrder="Editing Emulator Action Click Go To Column Order",e.EditingEmulatorActionClickGoToData="Editing Emulator Action Click Go To Data",e.EditingEmulatorActionClickGoToThemeAndBrand="Editing Emulator Action Click Go To Theme And Brand",e.EditingEmulatorActionClickGoToView="Editing Emulator Action Click Go To View",e.EditingEmulatorActionClickGoToSettingsInformation="Editing Emulator Action Click Go To Settings Information",e.EditingEmulatorActionClickGoToSettingsViewsGeneral="Editing Emulator Action Click Go To Settings Views General",e.EditingEmulatorActionClickGoToSettingsViewsViewType="Editing Emulator Action Click Go To Settings Views View Type"}(p||(t.EditingEmulatorButtonClickEventLabel=p={}));var h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),o),i),l),c),u),d),s),p);t.MergedEventNames=h;var g=f.default.invert(h);t.MergedEventNameSet=g},764104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeLoggingText=void 0;var r=/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi,n=/\b\d{5,}\b/gi;t.sanitizeLoggingText=function(e){return"string"!=typeof e?e:e=(e=e.replace(r,"*redacted-email*")).replace(n,"*redacted-id*")}},646317:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.isStartUrl=t.isIOSUrl=t.isAppUrl=t.isAndroidUrl=t.GUID_PATTERN=void 0,t.makeGuid=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();var e=Date.now();"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))},t.navigateToNewAppGallery=function(){var e=o.WindowWrapper.location.origin;"https://eu.appsheet.com"===o.WindowWrapper.location.origin&&(e="https://www.appsheet.com");o.WindowWrapper.location.href=e+l.NEW_APP_GALLERY_PATH+o.WindowWrapper.location.search},t.parseQuery=void 0,t.parseUrlQuery=function(){try{return g(o.WindowWrapper.location.search.substring(1))}catch(e){return{}}},t.replaceGuid=void 0,t.sortedParams=function(e){var t=e;"string"!=typeof e&&(t=Object.entries(e).map((function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return[r,null==n?"":n]})));var r=new URLSearchParams(t);return r.sort(),r.toString()};var a=n(r(627424)),o=r(892148),i=n(r(496486)),l=r(714067);var s="[0-9a-f-]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}";t.GUID_PATTERN=s;var u="(".concat(s,"|default)"),c="^/(?:start|preview)/".concat(u,"$"),d="[?&]from=".concat(u,"&?"),p=function(e){var t=e.host,r=e.pathname;return new RegExp(c,"i").test(r)&&t===self.location.host};t.isStartUrl=p;var f=function(e){var t=e.host,r=e.pathname,n=e.search;return"/"===r&&/[?&]android=true&?/i.test(n)&&new RegExp(d,"i").test(n)&&t===self.location.host};t.isAndroidUrl=f;var h=function(e){var t=e.host,r=e.pathname,n=e.search;return"/"===r&&!/[?&]android=true&?/i.test(n)&&new RegExp(d,"i").test(n)&&t===self.location.host};t.isIOSUrl=h;t.isAppUrl=function(e){return f(e)||p(e)||h(e)};t.replaceGuid=function(e,t){return e.replace(new RegExp(u),t)};var g=i.default.memoize((function(e){try{for(var t,r=/\+/g,n=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(r," "))},o={};t=n.exec(e);)o[a(t[1])]=a(t[2]);return o}catch(e){return{}}}));t.parseQuery=g},785144:(e,t,r)=>{"use strict";var n=r(564836),a=r(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.USER_ROLLOUTS=t.TableRowBucket=t.TEMPLATE_RESULT=t.TABLES_RESULT=t.SYSTEM_ENTRY_PREFIX=t.SYNC_TOKEN=t.SYNC_STATE=t.OWNER_ROLLOUTS=t.OLD_TEMPLATE_RESULT=t.OLD_TABLES_RESULT=t.NAME_GUID_MAP=t.LOG_RECORD=t.IMAGEHANDLE_FILEPATHS=t.CLIENT_ID=t.BACKEND_ACTION=t.APP_VIEW_STATE=t.APP_IMAGE_CACHE=t.APP_CONTROL_STATE=void 0,t.makeInitialStateData=x;var o=n(r(627424)),i=n(r(600861)),l=n(r(856690)),s=n(r(689728)),u=n(r(238416)),c=n(r(496486)),d=n(r(571524)),p=n(r(593186)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(365914));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var g="Jeenee";t.SYSTEM_ENTRY_PREFIX=g;var m="JeeneeClient";t.CLIENT_ID=m;var v="JeeneeNameGuidMap";t.NAME_GUID_MAP=v;var S="AppTemplateRes";t.TEMPLATE_RESULT=S;var y="UserTablesRes";t.TABLES_RESULT=y;var A="AppTemplateResult";t.OLD_TEMPLATE_RESULT=A;var w="UserTablesResult";t.OLD_TABLES_RESULT=w;var E=":AppControlState";t.APP_CONTROL_STATE=E;var T=":AppViewState";t.APP_VIEW_STATE=T;var C="AppSheet_SyncState";t.SYNC_STATE=C;var I="SyncToken";t.SYNC_TOKEN=I;var k="AppImageCache";t.APP_IMAGE_CACHE=k;var b="FilePaths";t.IMAGEHANDLE_FILEPATHS=b;t.LOG_RECORD="";var P="UserRollouts";t.USER_ROLLOUTS=P;var O="OwnerRollouts";t.OWNER_ROLLOUTS=O;var R="_Action";t.BACKEND_ACTION=R;var D=new Map,_=new Map;function x(){return(0,u.default)({},C,{LastSyncAt:null,LastSyncWasSuccessful:!0,LastSuccessfulSyncAt:null,LastSyncTableTimestamps:{}})}var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.indicesByColName;(0,l.default)(this,e),this.rows=t,this.indicesByColName=n}return(0,s.default)(e,[{key:"push",value:function(e){this.rows.push(e)}},{key:"replace",value:function(e,t){this.rows.splice(e,1,t)}},{key:"delete",value:function(e){this.rows.splice(e,1)}},{key:"toJSON",value:function(){var e=this;return this.indicesByColName?this.rows.map((function(t){var r=c.default.mapKeys(t,(function(t,r){return e.indicesByColName[r]}));return c.default.pickBy(r,(function(e){return null!=e&&""!==e}))})):this.rows}}],[{key:"fromJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.colNamesByIndex,n=t.indicesByColName;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r){for(var a=[],o=0;o<t.length;o++){var i=t[o],l={};for(var s in r){var u=r[s];u?u in l||(l[u]=null!=i[s]?i[s]:""):l[s]=i[s]}a.push(l)}t=a}return new e(t,{indicesByColName:n})}}}]),e}();t.TableRowBucket=L;var N=function(){function e(t){var r=t.userId,n=t.tentativeTemplateName,a=t.tentativeTemplateId,o=t.appTemplateVersion,i=t.clearAllStorageProviders;(0,l.default)(this,e),this.reclaimSpaceErrorMessage="Unable to save app data to local storage. Please try to increase the available space on the device or reduce the amount of data sent to the app.",this.SYSTEM_ENTRY_PREFIX=g,this.CLIENT_ID=m,this.NAME_GUID_MAP=v,this.TEMPLATE_RESULT=S,this.TABLES_RESULT=y,this.APP_CONTROL_STATE=E,this.APP_VIEW_STATE=T,this.SYNC_STATE=C,this.APP_IMAGE_CACHE=k,this.OLD_TEMPLATE_RESULT=A,this.OLD_TABLES_RESULT=w,this.BACKEND_ACTION=R,this.IMAGEHANDLE_FILEPATHS=b,this.USER_ROLLOUTS=P,this.OWNER_ROLLOUTS=O,this.SYNC_TOKEN=I,this.userId=r,this.appTemplateName=n,this.appTemplateId=a,this.appTemplateVersion=o,this.clearAllStorageProviders=i||function(){return Promise.resolve(null)},this.log("initialized with appName",this.appTemplateName,"and appId",this.appTemplateId)}return(0,s.default)(e,[{key:"stateData",get:function(){return(0,f.getOrInit)(_,this.guidKey(this.Name),x)}},{key:"dispose",value:function(e){e&&_.delete(this.guidKey(this.Name))}},{key:"Name",get:function(){return"BaseStorageInterface"}},{key:"SyncInfo",get:function(){return this.stateData[this.SYNC_STATE]||x()[C]}},{key:"systemData",get:function(){return D}},{key:"setCurrentTemplate",value:function(e){var t=e.Name,r=e.Id;this.appTemplateName!==t&&this.log("updating Name from",this.appTemplateName,"to",t),this.appTemplateId!==r&&this.log("updating Id from",this.appTemplateId,"to",r),this.appTemplateName=t,this.appTemplateId=r}},{key:"matches",value:function(e){return this.appTemplateName===e||this.appTemplateId===e}},{key:"log",value:function(){}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];p.default.warnToDevConsole.apply(p.default,["".concat(this.Name,"\t(").concat(this.fullGuidPrefix(),"):\t")].concat(t))}},{key:"fullGuidPrefix",value:function(){return this.appTemplateId?"".concat(this.appTemplateId,"|").concat(this.appTemplateVersion||"","|").concat(this.userId,"|"):this.fullNamePrefix()}},{key:"fullGuidKey",value:function(e){return this.fullGuidPrefix()+e}},{key:"guidPrefix",value:function(){return"".concat(this.appTemplateId,"|").concat(this.userId,"|")}},{key:"guidKey",value:function(e){return this.guidPrefix()+e}},{key:"fullNamePrefix",value:function(){return this.fullNamePrefixOld()+this.userId}},{key:"fullNameKey",value:function(e){return this.fullNamePrefix()+e}},{key:"fullNamePrefixOld",value:function(){return this.appTemplateName+(this.appTemplateVersion||"")}},{key:"fullNameOld",value:function(e){return this.fullNamePrefixOld()+e}},{key:"bucketPrefix",value:function(e){return"".concat(e,"~#")}},{key:"bucketKey",value:function(e,t){return this.bucketPrefix(e)+t}},{key:"imageKeyRegex",value:function(){return new RegExp("^IMAGE\\d+$")}},{key:"targetRowsPerBucket",value:function(){var e=100;return(d.default.IsIOSBrowser()||d.default.IsSafariBrowser())&&(e=5e3),e}},{key:"targetTotalBuckets",value:function(e){return Math.ceil(e/this.targetRowsPerBucket())}},{key:"partitionTable",value:function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.mapColNamesToIndices,o=void 0===a||a,i=c.default.clone(t),l=[];if(t.Rows.length){var s,u,d=this.targetTotalBuckets(t.Rows.length);if(o){var p=(null===(r=t.Rows)||void 0===r?void 0:r[0])||[];s=c.default.mapValues(c.default.keys(p),(function(e){return e})),u=c.default.invert(s)}var f=c.default.groupBy(t.Rows,(function(r){return e.getBucketIndexForRow(r[t.keyAttrName],d)}));delete i.Rows,s&&(i._rowStructure=s),i._buckets=c.default.size(f),l=c.default.keys(f).map((function(e){var t=f[e];return new L(t,{indicesByColName:u})}))}return{partitionedTable:i,buckets:l}}},{key:"reconstructTable",value:function(e,t){var r=c.default.clone(e);if(null==r.Rows){if(!t||t.length!==r._buckets)return null;var n,a=t.map((function(e){return e.rows}));r.Rows=(n=Array.prototype).concat.apply(n,(0,i.default)(a))}return r}},{key:"read",value:function(e,t){return Promise.resolve(null)}},{key:"readClientId",value:function(){return Promise.resolve(null)}},{key:"setItem",value:function(e,t){return Promise.resolve(null)}},{key:"write",value:function(e,t,r){return Promise.resolve(null)}},{key:"clear",value:function(e,t){return Promise.resolve(null)}},{key:"clearTable",value:function(e){return Promise.resolve(null)}},{key:"reclaimSpace",value:function(e){return Promise.resolve(null)}},{key:"writeTables",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.shouldEncrypt,a=void 0!==n&&n,o=r.tablesToSkip,i=void 0===o?{}:o;this.log("writeTables");var l=e.map((function(e){return e.Name})),s={};return l.forEach((function(e){s[e]=!0})),this.clearAllStorageProviders(this.TABLES_RESULT).then((function(){return Promise.all(e.map((function(e){if(i[e.Name]){if(null!=e._buckets){var r=t.partitionTable(e),n=r.partitionedTable,o=r.buckets;if(e._buckets===n._buckets&&c.default.isEqual(e._rowStructure,n._rowStructure))return o.forEach((function(r,n){var a=t.bucketKey(e.Name,n);t.stateData[a]=r})),t.stateData[e.Name]=n,Promise.resolve(n)}return t.stateData[e.Name]=e,Promise.resolve(e)}return t.writeTable(e,{shouldEncrypt:a})})))})).then((function(){return t.write(t.TABLES_RESULT,s,{shouldEncrypt:a})})).catch((function(e){return t.clearTables(l).then((function(){throw e}))}))}},{key:"writeTable",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.shouldEncrypt,a=void 0!==n&&n;this.log("writeTable",e.Name);var o=this.partitionTable(e),i=o.partitionedTable,l=o.buckets,s=l.map((function(r,n){return t.bucketKey(e.Name,n)})),u=c.default.zipObject(s,l);return this._writeTableBuckets(i,u,{shouldEncrypt:a})}},{key:"writeTableRows",value:function(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.shouldEncrypt,i=void 0!==o&&o;this.log("writeTableRows",r);var l=this.Get(t.Name),s=null==l?void 0:l._buckets,u={};if(s){var d=c.default.keys(r).map((function(t){var r=e.getBucketIndexForRow(t,s),a=n.bucketKey(l.Name,r),o=n.Get(a);return o?{rowKey:t,bucketKey:a,bucket:o}:null}));if(c.default.every(d))return d.forEach((function(e){var t=e.rowKey,n=e.bucketKey,a=e.bucket,o=r[t],i=c.default.findIndex(a.rows,(function(e){return e[l.keyAttrName]===t}));i>=0?null==o?a.delete(i):a.replace(i,o):null!=o&&a.push(o),u[n]=a})),this._writeTableBuckets(l,u,{shouldEncrypt:i})}return this.writeTable(t,{shouldEncrypt:i})}},{key:"_writeTableBuckets",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.shouldEncrypt,i=void 0!==a&&a,l=function(){return Promise.all(c.default.toPairs(t).map((function(e){var t=(0,o.default)(e,2),n=t[0],a=t[1];return r.write(n,a,{shouldEncrypt:i})})))};return this.clearAllStorageProviders(e.Name).then(l).then((function(){return r.write(e.Name,e,{shouldEncrypt:i})}))}},{key:"writeTemplate",value:function(e){return this.log("writeTemplate"),this.write(this.TEMPLATE_RESULT,e)}},{key:"writeControlState",value:function(e){return this.log("writeControlState"),this.write(this.APP_CONTROL_STATE,e)}},{key:"writeViewState",value:function(e){return this.log("writeViewState"),this.write(this.APP_VIEW_STATE,e)}},{key:"writeImageCache",value:function(e){var t=this;this.log("writeImageCache");var r=c.default.mapValues(e,(function(){return!0}));return this.write(this.APP_IMAGE_CACHE,r).then((function(){return Promise.all(c.default.toPairs(e).map((function(e){var r=(0,o.default)(e,2),n=r[0],a=r[1];return t.write(n,a)})))}))}},{key:"writeSyncState",value:function(e){return this.log("writeSyncState"),this.write(this.SYNC_STATE,e)}},{key:"writeClientId",value:function(e){return this.log("writeClientId"),this.write(this.CLIENT_ID,e)}},{key:"readTables",value:function(){var e=this;return this.log("readTables"),this._readTableLookup().then((function(){return e._readPartitionedTables()})).then((function(){return e._readTableRows()}))}},{key:"_readTableLookup",value:function(){return this.read(this.TABLES_RESULT)}},{key:"_readPartitionedTables",value:function(){var e=this,t=this.Get(this.TABLES_RESULT),r=[];return t&&!Array.isArray(t)&&(r=c.default.keys(t).map((function(t){return e.read(t).then((function(t){if((null==t?void 0:t.Rows)&&t._rowStructure&&null==t._buckets){var r=t._rowStructure,n=L.fromJSON({colNamesByIndex:r});try{var a=n(t.Rows);t.Rows=a.rows,e.log("unpacked a legacy table with _rowstructure but no _buckets",t.Rows)}catch(t){e.warn("failed to unpack a legacy table with error",t)}}return t}))}))),Promise.all(r).catch((function(t){e.warn("Error reading table data from indexedDB",t),delete e.stateData[e.TABLES_RESULT]}))}},{key:"_readTableRows",value:function(e){var t=this,r=e?[e]:c.default.keys(this.Get(this.TABLES_RESULT)),n=[];return r.forEach((function(e){var r,a=t.Get(e);if(a&&null==a.Rows&&null!=a._buckets)for(var o=a._rowStructure,i=o?c.default.invert(o):null,l=L.fromJSON({colNamesByIndex:o,indicesByColName:i}),s=0;s<a._buckets;s++)n.push((r=s,t.read(t.bucketKey(e,r),{fromJSON:l})))})),Promise.all(n)}},{key:"readTemplate",value:function(){var e=this;return this.log("readTemplate"),this.read(this.TEMPLATE_RESULT).then((function(t){return t&&f.default.isGuid(e.appTemplateId)&&e.appTemplateId!==t.Id?(delete e.stateData[e.TEMPLATE_RESULT],null):t}))}},{key:"readSyncToken",value:function(){return this.log("readSyncToken"),this.read(this.SYNC_TOKEN)}},{key:"readOwnerRollouts",value:function(){return this.log("readOwnerRollouts"),this.read(this.OWNER_ROLLOUTS)}},{key:"readControlState",value:function(){return this.log("readControlState"),this.read(this.APP_CONTROL_STATE)}},{key:"readViewState",value:function(){return this.log("readViewState"),this.read(this.APP_VIEW_STATE)}},{key:"readSyncState",value:function(){return this.log("readSyncState"),this.read(this.SYNC_STATE)}},{key:"readImageCache",value:function(){var e=this;return this.log("readImageCache"),this.read(this.APP_IMAGE_CACHE).then((function(t){var r=[];return t&&(r=c.default.keys(t).map((function(t){return e.read(t)}))),Promise.all(r)}))}},{key:"readLogRecords",value:function(){return Promise.resolve(null)}},{key:"readFilePaths",value:function(){return this.log("readFilePaths"),this.read(this.IMAGEHANDLE_FILEPATHS)}},{key:"clearSyncState",value:function(){return this.log("clearSyncState"),this.clear(this.SYNC_STATE)}},{key:"clearTemplate",value:function(){return this.log("clearTemplate"),this.clear(this.TEMPLATE_RESULT)}},{key:"clearOwnerRollouts",value:function(){return this.log("clearOwnerRollouts"),this.clear(this.OWNER_ROLLOUTS)}},{key:"clearTables",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.keys(this.Get(this.TABLES_RESULT));return this.log("clearTables"),this.clear(this.TABLES_RESULT).then((function(){return Promise.all(t.filter((function(e){return!(0,f.isUserSettingsTable)(e)})).map((function(t){return e.clearTable(t)})))}))}},{key:"clearControlState",value:function(){return this.log("clearControlState"),this.clear(this.APP_CONTROL_STATE)}},{key:"clearFilePaths",value:function(){return this.log("clearFilePaths"),this.clear(this.IMAGEHANDLE_FILEPATHS)}},{key:"clearAll",value:function(){return Promise.all([this.clearTemplate(),this.clearTables(),this.clearControlState()])}},{key:"clearImageCache",value:function(){var e=this;this.log("clearImageCache");var t=this.imageKeyRegex();return Promise.all(c.default.keys(this.stateData).filter((function(e){return t.test(e)})).map((function(t){return e.clear(t)}))).then((function(){return e.clear(e.APP_IMAGE_CACHE)}))}},{key:"IsValid",value:function(){var e=this.GetTemplateResult(),t=this.GetTablesResult();return!(!e||!t)}},{key:"Get",value:function(e){return this.stateData[e]}},{key:"GetAllStateData",value:function(){return{tables:this.GetTablesResult(),template:this.GetTemplateResult(),controlState:this.GetControlState(),imageCache:this.GetImageCache(),syncState:this.GetSyncState(),clientId:this.GetClientId()}}},{key:"GetTemplateResult",value:function(){return this.Get(this.TEMPLATE_RESULT)}},{key:"GetOwnerRollouts",value:function(){return this.Get(this.OWNER_ROLLOUTS)}},{key:"GetSyncToken",value:function(){return this.Get(this.SYNC_TOKEN)}},{key:"GetTable",value:function(e){var t=this.Get(e),r=[];if(t&&null==t.Rows&&null!=t._buckets){for(var n=0;n<t._buckets;n++){var a=this.Get(this.bucketKey(e,n));a&&r.push(a)}t=this.reconstructTable(t,r)}return(null==t?void 0:t.Rows)?t:null}},{key:"GetTablesResult",value:function(){var e=this;try{var t=this.Get(this.TABLES_RESULT);if(null!=t&&!Array.isArray(t)){var r=c.default.keys(t).map((function(t){return e.GetTable(t)}));if(!c.default.every(r))return null;c.default.isEmpty(r)||(t=r)}return t}catch(e){return this.warn("Error getting tables result:",e),null}}},{key:"GetControlState",value:function(){return this.Get(this.APP_CONTROL_STATE)}},{key:"GetViewState",value:function(){return this.Get(this.APP_VIEW_STATE)}},{key:"GetSyncState",value:function(){return this.Get(this.SYNC_STATE)}},{key:"GetFromImageCache",value:function(e){var t="IMAGE"+e;return(this.Get(this.APP_IMAGE_CACHE)||{})[t]?this.Get(t):null}},{key:"GetImageCache",value:function(){var e=this,t=this.Get(this.APP_IMAGE_CACHE)||{};return c.default.mapValues(t,(function(t,r){return e.Get(r)}))}},{key:"GetFilePaths",value:function(){return this.Get(this.IMAGEHANDLE_FILEPATHS)||{}}},{key:"WriteSyncSuccess",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.SyncInfo.LastSuccessfulSyncLatencyMs;this.Write(this.SYNC_STATE,{LastSyncAt:e,LastSuccessfulSyncAt:e,LastSyncWasSuccessful:!0,LastSyncTableTimestamps:t,LastSyncTableParams:r,LastSuccessfulSyncLatencyMs:n})}},{key:"WriteSyncFailure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;this.Write(this.SYNC_STATE,Object.assign(Object.assign({},this.SyncInfo),{LastSyncAt:e,LastSyncWasSuccessful:!1}))}},{key:"Write",value:function(e,t,r,n,a){return this.write(e,t,{useWebWorkers:r}).then((function(){return"function"==typeof a?a():null})).catch((function(e){if("function"==typeof n){var t="string"==typeof e?e:e.message||"Unable to write to device storage, there may not be enough available space";n(t)}}))}},{key:"writeTemplateResult",value:function(e){return this.log("writeTemplateResult"),this.write(S,e,{shouldEncrypt:!0})}},{key:"writeOwnerRollouts",value:function(e){return this.log("writeOwnerRollouts"),this.write(this.OWNER_ROLLOUTS,e)}},{key:"writeSyncToken",value:function(e){return this.log("writeSyncToken"),e?this.write(this.SYNC_TOKEN,e):this.clear(this.SYNC_TOKEN)}},{key:"WriteTablesResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.tablesToSkip,n=void 0===r?{}:r,a=t.shouldEncrypt,o=void 0!==a&&a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.noop;this.log("WriteTablesResult"),Array.isArray(e)?this.writeTables(e,{tablesToSkip:n,shouldEncrypt:o}).then((function(){return i()})).catch((function(e){return i(e)})):this.Write(this.TABLES_RESULT,e,!0,i,i)}},{key:"WriteTableResult",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.shouldEncrypt,a=void 0!==n&&n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.noop;return this.writeTable(e,{shouldEncrypt:a}).then((function(){return o()||null})).catch((function(r){t.warn("writing table ".concat(e.Name," to physical storage failed")),o(r)}))}},{key:"WriteControlState",value:function(e,t){this.Write(this.APP_CONTROL_STATE,e,!1,t)}},{key:"WriteViewState",value:function(e,t){this.Write(this.APP_VIEW_STATE,e,!1,t)}},{key:"AddToImageCache",value:function(e,t,r){this.log("writing to IMAGE CACHE",e,t),this.Write("IMAGE"+e,t,!0,r);var n=this.Get(this.APP_IMAGE_CACHE)||{};n["IMAGE"+e]=!0,this.Write(this.APP_IMAGE_CACHE,n,!0,r)}},{key:"AddImageFilePath",value:function(e,t,r){this.log("Associating image ID ".concat(e," to file path ").concat(t));var n=this.GetFilePaths()||{};n[e]=t,this.Write(this.IMAGEHANDLE_FILEPATHS,n,!0,r)}}],[{key:"getBucketIndexForRow",value:function(e,t){return Math.abs(f.default.hashCode(e))%t}}]),e}();t.default=N},669353:(e,t,r)=>{"use strict";var n=r(564836),a=r(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=n(r(918698)),l=n(r(459400)),s=n(r(856690)),u=n(r(689728)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(834)),d=n(r(593186)),p=r(555792);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h,g,m=c.algorithms.LZ_STRING,v=c.algorithms.DEFAULT,S=!!window.Worker,y={},A=function(e){var t=e.data,r=t.callbackKey,n=t.resultString,a=t.resultBuffer,o=t.algorithm,i=t.error,l=y[r];"function"==typeof l&&(delete y[r],l({algorithm:o,resultString:n,resultBuffer:a,error:i}))},w=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,null,[{key:"_callbackFnCache",set:function(e){y=e}},{key:"_webWorker",set:function(e){h=e}},{key:"_mockWorker",set:function(e){g=e}},{key:"_getWorkerInterface",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.useWebWorkers,n=void 0===r||r;if(n){if(!h&&S)try{var a=(0,p.trustedResourceUrl)(o||(o=(0,l.default)(["/workers/compression"])));(h=new Worker(a)).onmessage=A}catch(e){d.default.warnToDevConsole("Error creating new CompressionWorker: ",e)}return h||e._getWorkerInterface({useWebWorkers:!1})}return g||((g=new c.default).onmessage=A),g}},{key:"compress",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.algorithm,a=void 0===n?v:n,o=r.useWebWorkers,i=void 0===o||o;return new Promise((function(r,n){var o=null,l=null;if(a===m)o=JSON.stringify(t);else l=(new TextEncoder).encode(JSON.stringify(t)).buffer;var s=Math.random().toString();y[s]=function(e){var t=e.resultString,o=e.resultBuffer,i=e.errorMessage;return i?n(new Error(i)):r({algorithm:a,data:o||t})};var u={compress:!0,callbackKey:s,dataString:o,dataBuffer:l,algorithm:a},c=l?[l]:void 0;return e._getWorkerInterface({useWebWorkers:i}).postMessage(u,c)}))}},{key:"decompress",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.useWebWorkers,o=void 0===a||a;return new Promise((function(n,a){if(null==t)return n(null);if(null==r)return a(new Error("Tried to decompress without specifiying an algorithm"));var l=null,s=null;if(t instanceof ArrayBuffer)s=t;else if(t instanceof Uint8Array){var u=t.byteOffset,c=t.byteLength;s=u?t.buffer.slice(u,u+c):t.buffer}else{if("string"!=typeof t)return a(new Error("Tried to decompress unsupported type ".concat((0,i.default)(t))));l=t}var d=Math.random().toString();y[d]=function(e){var t=e.resultString,r=e.resultBuffer,o=e.errorMessage;if(o)return a(new Error(o));try{return null==t&&null!=r&&(t=(new TextDecoder).decode(r)),n(JSON.parse(t))}catch(e){return a(e)}};var p={compress:!1,callbackKey:d,dataString:l,dataBuffer:s,algorithm:r},f=s?[s]:void 0;return e._getWorkerInterface({useWebWorkers:o}).postMessage(p,f)}))}}]),e}();t.default=w},834:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.algorithms=void 0;var a=n(r(856690)),o=n(r(689728)),i=n(r(826961)),l=n(r(999591)),s="LZ",u="ZL",c={LZ_STRING:s,ZLIB:u,DEFAULT:"ZL"};t.algorithms=c;var d=function(){function e(){var t=this;(0,a.default)(this,e),this._mockWorkerInterface=e.initWorker({}),this._mockWorkerInterface.postMessage=function(e){"function"==typeof t.onmessage?t.onmessage({data:e}):console.warn("CompressionWorkerInterface was not given an onmessage handler")}}return(0,o.default)(e,[{key:"postMessage",value:function(e){this._mockWorkerInterface.onmessage({data:e})}}],[{key:"algorithms",get:function(){return c}},{key:"compressFunction",value:function(e){var t=e.dataString,r=e.dataBuffer,n=null,a=null;switch(e.algorithm){case s:n=i.default.compressToUTF16(t);break;case u:a=l.default.deflate(r).buffer}return{resultString:n,resultBuffer:a}}},{key:"decompressFunction",value:function(e){var t=e.dataString,r=e.dataBuffer,n=null,a=null;switch(e.algorithm){case s:r&&!t&&(t=(new TextDecoder).decode(r)),n=i.default.decompressFromUTF16(t);break;case u:a=l.default.inflate(r).buffer}return{resultString:n,resultBuffer:a}}},{key:"initWorker",value:function(t){return t.onmessage=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.data,a=n.callbackKey,o=n.dataString,i=n.dataBuffer,l=n.algorithm,s=n.compress;if(a&&l&&(o||i)){var u,c,d=s?e.compressFunction:e.decompressFunction;try{var p=d({dataString:o,dataBuffer:i,algorithm:l});u=p.resultString,c=p.resultBuffer}catch(e){var f=e;return console.warn("Error in CompressionWorker.onmessage:",f),void t.postMessage({callbackKey:a,errorMessage:f.message})}var h=c?[c]:void 0;t.postMessage({callbackKey:a,algorithm:l,resultString:u,resultBuffer:c},h)}},t}}]),e}();t.default=d},714067:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accessDeniedErrorMessage=t.USER_SETTINGS_TABLE_NAME=t.USER_SETTINGS_SCHEMA_NAME=t.USER_SETTINGS_EDITOR_LOCATION=t.TRUSTED_TESTER_TERMS_PATH=t.SORTHANDLE_WIDTH=t.SAMPLE_ACCOUNT_IDS=t.REMOTE_URL_BASE=t.PUBLIC_OWNER_HELP_DOC=t.PAGESTYLE_TABS=t.PAGESTYLE_SIMPLE=t.PAGESTYLE_PAGECOUNT=t.PAGESTYLE_AUTO=t.OUTGOING_EMAIL_ALLOWLIST_HELP_DOC=t.NO_RESIZE_WIDTH=t.NEW_APP_GALLERY_PATH=t.HEADERSTYLE_WHITE=t.HEADERSTYLE_COLOR=t.GETTABLEFILEURL_REGEX=t.GETTABLEFILEURL_BASE=t.GETREMOTEIMAGEURL_PATTERN=t.GETREMOTEIMAGEURL_BASE=t.GETIMAGEURL_PATTERN=t.FORMSTYLE_SXS=t.FORMSTYLE_NORMAL=t.FORMSTYLE_AUTO=t.FORMFOOTERSTYLE_TOP=t.FORMFOOTERSTYLE_BOTTOM=t.FOOTERSTYLE_WHITE=t.FOOTERSTYLE_COLOR=t.FOOTERSTYLE_ACCENT=t.FADE_OUT_DURATION_MS=t.FADE_IN_DURATION_MS=t.EU_DRZ_BASE_URL=t.DISABLE_DATABASES_HELP_DOC=t.CLOUDFLARE_URL_BASE=t.AUDIT_LOG_EXPORT_HELP_DOC=t.APP_GALLERY_NAME=t.APP_GALLERY_ID=void 0;t.FOOTERSTYLE_WHITE="White";t.FOOTERSTYLE_ACCENT="Accent";t.FOOTERSTYLE_COLOR="Color";t.HEADERSTYLE_WHITE="White";t.HEADERSTYLE_COLOR="Color";t.FORMSTYLE_AUTO="Automatic";t.FORMSTYLE_NORMAL="Default";t.FORMSTYLE_SXS="Side-by-side";t.FORMFOOTERSTYLE_BOTTOM="Bottom";t.FORMFOOTERSTYLE_TOP="Top";t.PAGESTYLE_AUTO="Automatic";t.PAGESTYLE_SIMPLE="Simple";t.PAGESTYLE_PAGECOUNT="Page Count";t.PAGESTYLE_TABS="Tabs";t.SORTHANDLE_WIDTH=15;t.NO_RESIZE_WIDTH=-1;t.FADE_IN_DURATION_MS=300;t.FADE_OUT_DURATION_MS=400;t.CLOUDFLARE_URL_BASE="https://www.appsheet.com/get/?";t.REMOTE_URL_BASE="https://www.appsheet.com/remote";t.GETIMAGEURL_PATTERN=/(appsheet\.com|localhost.*|appsheet-dev\.corp\.goog)\/image\/getimageurl[?]?(.*)/i;t.GETREMOTEIMAGEURL_PATTERN=/(appsheet\.com|localhost.*|appsheet-dev\.corp\.goog)\/image\/getremoteimageurl/i;var r="".concat(location.origin,"/image/getremoteimageurl");t.GETREMOTEIMAGEURL_BASE=r;var n="".concat(location.origin,"/template/gettablefileurl?");t.GETTABLEFILEURL_BASE=n;t.GETTABLEFILEURL_REGEX=/^https?:\/\/[^\/]+\/template\/gettablefileurl\?([^#]*)/;t.PUBLIC_OWNER_HELP_DOC="https://support.google.com/appsheet?p=public-app-owner";t.DISABLE_DATABASES_HELP_DOC="https://support.google.com/appsheet?p=disable-appsheet-databases";t.OUTGOING_EMAIL_ALLOWLIST_HELP_DOC="https://support.google.com/appsheet?p=outgoing-email-allowlist";t.AUDIT_LOG_EXPORT_HELP_DOC="https://support.google.com/appsheet?p=export-audit-bigquery";t.SAMPLE_ACCOUNT_IDS=[10305,71626,2078346];t.EU_DRZ_BASE_URL="https://eu.appsheet.com";t.APP_GALLERY_NAME="AppGallery-10305";t.APP_GALLERY_ID="c37bc8a4-6b53-4e71-812c-2348072cbf2e";t.NEW_APP_GALLERY_PATH="/home/appGallery";t.TRUSTED_TESTER_TERMS_PATH="/home/trustedtesterterms";var a="_Per User Settings";t.USER_SETTINGS_TABLE_NAME=a;t.USER_SETTINGS_SCHEMA_NAME="_Per User Settings_Schema";t.USER_SETTINGS_EDITOR_LOCATION=["Data","UserSettings"];t.accessDeniedErrorMessage=function(){var e,t,r,n,a,o;return"Your account ".concat(null===(t=null===(e=null===window||void 0===window?void 0:window.AppState)||void 0===e?void 0:e.UserInformation)||void 0===t?void 0:t.AuthUserEmail)+" (".concat(null===(n=null===(r=null===window||void 0===window?void 0:window.AppState)||void 0===r?void 0:r.UserInformation)||void 0===n?void 0:n.Id,") is not authorized to access ").concat(null===(o=null===(a=null===window||void 0===window?void 0:window.AppState)||void 0===a?void 0:a.AppTemplate)||void 0===o?void 0:o.Name,". Please contact the app owner.")}},662202:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(918698)),o=n(r(856690)),i=n(r(689728)),l=window,s="AES-GCM",u=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"context",get:function(){return l}},{key:"_context",set:function(e){l=e}},{key:"_crypto",get:function(){return(null==l?void 0:l.crypto)&&(l.crypto.subtle||l.crypto.webkitSubtle)}},{key:"supported",value:function(){return!!(e._crypto&&l.indexedDB&&l.TextEncoder&&l.TextDecoder&&l.Uint8Array)}},{key:"generateKey",value:function(){var t={name:s,length:256};return e._crypto.generateKey(t,!1,["encrypt","decrypt"])}},{key:"encrypt",value:function(t,r){if("string"==typeof t)t=(new TextEncoder).encode(t);else if(!(t instanceof Uint8Array||t instanceof ArrayBuffer))return Promise.reject(new Error("encrypt was called with an unsupported data type, ".concat((0,a.default)(t))));var n={name:s,iv:l.crypto.getRandomValues(new Uint8Array(12))};return e._crypto.encrypt(n,r,t).then((function(e){return{data:e,algorithm:n}}))}},{key:"decrypt",value:function(t,r,n){return e._crypto.decrypt(r,n,t)}}]),e}();t.default=u},112530:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(364687)),o=n(r(627424)),i=n(r(856690)),l=n(r(689728)),s=n(r(441588)),u=n(r(861655)),c=n(r(994993)),d=n(r(73808)),p=n(r(496486)),f=n(r(369483)),h=n(r(593186)),g=n(r(571524)),m=n(r(365914)),v=n(r(945176)),S=n(r(785144)),y=n(r(662202));function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var w=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))},E=new Map,T=function(e){(0,u.default)(r,e);var t=A(r);function r(e){var n;return(0,i.default)(this,r),(n=t.call(this,e)).SYSTEM_DATASTORES_LOOKUP="SYSTEM_DATASTORES_LOOKUP",n.CRYPTO_KEY="CRYPTO_KEY",n.LOG="LOG",n._registerDataStore(),n._awaitingCryptoKey=[],n.initCryptoKey().then((function(e){n._cryptoKey=e,n._awaitingCryptoKey.length&&n.log("flushing cryptoKey"),n._awaitingCryptoKey.forEach((function(t){return t(e)}))})),n}return(0,l.default)(r,[{key:"Name",get:function(){return"IndexedDBInterface"}},{key:"systemStore",get:function(){return this.getDataStore(this.SYSTEM_ENTRY_PREFIX)}},{key:"dataStore",get:function(){return this.getDataStore(this.fullGuidPrefix())}},{key:"logRecordStore",get:function(){return this.getDataStore(this.guidKey(this.LOG))}},{key:"getDataStore",value:function(e){var t=E.get(e);return t||(t=f.default.createInstance({driver:f.default.INDEXEDDB,name:e}),E.set(e,t)),t}},{key:"_registerDataStore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.launchOffline,n=void 0!==r&&r,a=t.lastAccessedDate,o=void 0===a?new Date:a;this.systemStore.getItem(this.SYSTEM_DATASTORES_LOOKUP).then((function(t){return(t=t||{})[e.fullGuidPrefix()]={launchOffline:n,lastAccessedDate:o},e.systemStore.setItem(e.SYSTEM_DATASTORES_LOOKUP,t)})).catch((function(t){return e.warn(t)}))}},{key:"setCurrentTemplate",value:function(e){var t;(0,s.default)((0,d.default)(r.prototype),"setCurrentTemplate",this).call(this,e);var n=null===(t=null==e?void 0:e.Behavior)||void 0===t?void 0:t.LaunchOffline;null!=n&&this._registerDataStore({launchOffline:n})}},{key:"log",value:function(){}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];h.default.warnToDevConsole.apply(h.default,["".concat(this.Name,"\t\t(").concat(this.fullGuidPrefix(),"):\t")].concat(t))}},{key:"initCryptoKey",value:function(){var e=this;return this.dataStore.getItem(this.CRYPTO_KEY).then((function(t){return t||(y.default.supported()?(e.log("generating new cryptoKey"),y.default.generateKey().then((function(t){return e.setItem(e.CRYPTO_KEY,t)})).catch((function(){return null}))):null)})).catch((function(){return null}))}},{key:"getCryptoKey",value:function(){var e=this;return void 0!==this._cryptoKey?Promise.resolve(this._cryptoKey):(this.log("awaiting cryptoKey"),new Promise((function(t){e._awaitingCryptoKey.push(t)})))}},{key:"read",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.fromJSON,a=r.store,o=void 0===a?this.dataStore:a;return o.getItem(e).then((function(e){return new v.default(e||{})})).then((function(e){return t.getCryptoKey().then((function(t){return e.getData(t)}))})).then((function(r){return null!=r&&(n&&(r=n(r)),t.stateData[e]=r),r})).catch((function(r){t.warn("error reading ",e,r),t.stateData[e]=null}))}},{key:"readLogRecords",value:function(){return Promise.resolve(null)}},{key:"readClientId",value:function(){var e=this;return this.log("readClientId"),this.systemStore.getItem(this.CLIENT_ID).then((function(t){return e.systemData.set(e.CLIENT_ID,t),t})).catch((function(t){e.warn(t)}))}},{key:"setItem",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.store,o=void 0===a?this.dataStore:a;return o.setItem(e,t).catch((function(n){return r.warn("setItem to indexedDB failed",n),r.reclaimSpace().then((function(){return o.setItem(e,t)})).catch((function(n){return r.warn(n),r.warn("reclaiming space from other apps did not help, clearing all table data for this app"),r.clearTables().then((function(){return o.setItem(e,t)})).then((function(){return Promise.reject(new Error(r.reclaimSpaceErrorMessage))}))}))}))}},{key:"write",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.useWebWorkers,o=void 0===a||a,i=n.shouldEncrypt,l=void 0!==i&&i,s=n.store,u=void 0===s?this.dataStore:s;return this.stateData[e]=t,g.default.IsIFramePreview()?Promise.resolve(null):this.clearAllStorageProviders(e).then((function(){return new v.default({data:t}).getCompressedOrSelf({useWebWorkers:o}).then((function(e){return l?r.getCryptoKey().then((function(t){return e.getEncryptedOrSelf(t)})):e})).then((function(t){return r.setItem(e,t,{store:u})}))})).catch((function(t){return delete r.stateData[e],Promise.reject(t)}))}},{key:"writeLogRecord",value:function(e){return this.write(e.id(),e,{shouldEncrypt:!0,store:this.logRecordStore})}},{key:"clear",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.keepInMemory,a=void 0!==n&&n;return a||delete this.stateData[e],this.dataStore.removeItem(e).catch((function(e){return t.warn(e)}))}},{key:"clearTable",value:function(e){var t=this,r=this.bucketPrefix(e);return this.dataStore.keys().then((function(n){var a=[e];return n.forEach((function(n){if(0===n.indexOf(r)){var o=parseInt(n.slice(r.length));a.push(t.bucketKey(e,o))}})),Promise.all(a.map((function(e){return t.clear(e)})))})).catch((function(e){return t.warn(e)}))}},{key:"dropStores",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nuke,o=void 0!==n&&n;return w(this,void 0,void 0,a.default.mark((function r(){var n,i,l,s;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=o?p.default.clone(t):null,i=0;case 2:if(!(i<e.length)){r.next=24;break}if(l=e[i],r.prev=4,!o){r.next=12;break}return r.next=8,f.default.dropInstance({name:l});case 8:delete n[l],this.log("nuked",l),r.next=16;break;case 12:return s=this.getDataStore(l),r.next=15,s.clear();case 15:this.log("cleared",l);case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(4),this.warn(r.t0);case 21:i++,r.next=2;break;case 24:return r.abrupt("return",n);case 25:case"end":return r.stop()}}),r,this,[[4,18]])})))}},{key:"reclaimSpace",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.nuke,n=void 0!==r&&r;return h.default.AddTraceContext("reclaimSpace"),this.log("RECLAIM SPACE"),this.systemStore.getItem(this.SYSTEM_DATASTORES_LOOKUP).then((function(t){var r=p.default.toPairs(t).filter((function(t){var r=(0,o.default)(t,2),a=r[0],i=r[1],l=i.launchOffline,s=i.lastAccessedDate;return!!n||a!==e.fullGuidPrefix()&&(!!m.default.moreThanAWeekOld(s)||!(!g.default.InMobileWebView()||g.default.IsWhitelabelBrowser()||l))})).map((function(e){return(0,o.default)(e,1)[0]}));return e.dropStores(r,t,{nuke:n})})).then((function(t){return t?e.systemStore.setItem(e.SYSTEM_DATASTORES_LOOKUP,t):null})).then((function(t){return e.log("reclaimSpace finished",t)})).catch((function(t){return e.warn("reclaimSpace errored",t)}))}},{key:"GetClientId",value:function(){var e=this.systemData.get(this.CLIENT_ID);return e||(e=m.default.makeGuid(),this.systemData.set(this.CLIENT_ID,e),this.systemStore.setItem(this.CLIENT_ID,e)),e}}],[{key:"dataStores",get:function(){return E}}]),r}(S.default);t.default=T},343625:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LocalStorageInterface=void 0;var a=n(r(856690)),o=n(r(689728)),i=n(r(861655)),l=n(r(994993)),s=n(r(73808)),u=n(r(496486)),c=n(r(826961)),d=n(r(593186)),p=n(r(571524)),f=n(r(365914)),h=n(r(669353)),g=n(r(785144)),m=r(834),v=r(166089);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=function(e){(0,i.default)(r,e);var t=S(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"Name",get:function(){return"LocalStorageInterface"}},{key:"read",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.fromJSON;try{var a=window.localStorage.getItem(this.fullGuidKey(e)),o=window.localStorage.getItem(this.fullNameKey(e));if(null!=a&&null!=o&&a!==o){var i="found conflicting values under different prefixes for key";return this.warn(i,e),this.clear(e).then((function(){return null}))}if(t=null!=a?a:o){try{t=JSON.parse(c.default.decompressFromUTF16(t))}catch(e){t=JSON.parse(t)}n&&(t=n(t))}null!=t&&(this.stateData[e]=t)}catch(t){this.warn("error reading ".concat(e," from localStorage"),t),p.default.IsIFrame()||d.default.ReportErrorOnce({errorMessage:"Caught error in LocalStorageInterface.read",error:u.default.isError(t)?t:void 0})}return Promise.resolve(t)}},{key:"readClientId",value:function(){this.log("readClientId");var e=r.getItem(this.CLIENT_ID);return e&&this.systemData.set(this.CLIENT_ID,e),Promise.resolve(e)}},{key:"setItem",value:function(e,t){var r=this;return new Promise((function(n,a){r.SetItem(e,t,(function(e){return e?a(e):n(t)}))}))}},{key:"write",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.useWebWorkers,o=void 0===a||a;return this.stateData[e]=t,p.default.IsIFramePreview()?Promise.resolve(null):this.clearAllStorageProviders(e).then((function(){var n=r.fullGuidKey(e);return h.default.compress(t,{algorithm:m.algorithms.LZ_STRING,useWebWorkers:o}).then((function(e){var t=e.data;return r.setItem(n,t)}))})).catch((function(t){return delete r.stateData[e],Promise.reject(t)}))}},{key:"clear",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.keepInMemory,a=void 0!==n&&n;return a||delete this.stateData[e],new Promise((function(r,n){try{return window.localStorage.removeItem(t.fullGuidKey(e)),window.localStorage.removeItem(t.fullNameKey(e)),window.localStorage.removeItem(t.fullNameOld(e)),r(null)}catch(e){return n(e)}}))}},{key:"clearTable",value:function(e){var t=this,r=[this.fullNameKey(this.bucketPrefix(e)),this.fullGuidKey(this.bucketPrefix(e))],n=[e];try{u.default.keys(window.localStorage).forEach((function(a){r.forEach((function(r){if(0===a.indexOf(r)){var o=parseInt(a.slice(r.length));n.push(t.bucketKey(e,o))}}))}))}catch(e){}return Promise.all(n.map((function(e){return t.clear(e)})))}},{key:"reclaimSpace",value:function(e){return this.ReclaimSpace(e),Promise.resolve(null)}},{key:"SetItem",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.noop;try{window.localStorage.setItem(e,t),n()}catch(a){this.warn("localStorage limit reached");try{this.ReclaimSpace(),window.localStorage.setItem(e,t),n()}catch(a){this.warn("reclaiming space from other apps did not help, clearing all table data for this app"),this.clearTables().then((function(){try{window.localStorage.setItem(e,t)}catch(e){r.warn("final attempt to setItem failed")}var o=r.reclaimSpaceErrorMessage;u.default.isError(a)&&"NS_ERROR_FILE_CORRUPTED"===a.name?(o='There appears to be a problem with your browser\'s local storage. Please clear your storage by going to Menu > History > Clear Recent History, make sure "Cookies" are selected, and set the time range to "Everything". This should remove the corrupted browser storage across all sites.',alert(o),d.default.ReportErrorOnce({errorMessage:"NS_ERROR_FILE_CORRUPTED"})):d.default.ReportErrorOnce({errorMessage:"Unable to save app data to local storage"}),n(new Error(o))})).catch((function(){r.warn("failed to clear tables in reclaim space")}))}}}},{key:"ReclaimSpace",value:function(e){d.default.AddTraceContext("RECLAIM SPACE");try{for(var t={},r=u.default.keys(window.localStorage).length,n=0;n<r;n++){var a=window.localStorage.key(n);if(a.indexOf(this.OLD_TEMPLATE_RESULT)>0||a.indexOf(this.OLD_TABLES_RESULT)>0)t[a]=!0;else if(a.indexOf(this.SYSTEM_ENTRY_PREFIX)<0){if(0!==a.indexOf(this.fullNamePrefix())&&0!==a.indexOf(this.fullGuidPrefix())&&a.indexOf(this.BACKEND_ACTION)<0){t[a]=!0;continue}e&&0!==a.indexOf(this.fullNamePrefixOld())&&0!==a.indexOf(this.fullGuidPrefix())&&a.indexOf(this.BACKEND_ACTION)>0&&(t[a]=!0)}}for(var o in t)window.localStorage.removeItem(o)}catch(e){}}},{key:"GetClientId",value:function(){var e=this.systemData.get(this.CLIENT_ID);return e||(e=f.default.makeGuid(),this.systemData.set(this.CLIENT_ID,e),this.SetItem(this.CLIENT_ID,e)),e}}],[{key:"setItem",value:function(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.noop,o=null===(n=null===(r=v.AppGlobals.AppModel)||void 0===r?void 0:r.storageManager)||void 0===n?void 0:n.localStorageInterface;if(o)o.SetItem(e,t,a);else try{window.localStorage.setItem(e,t),a()}catch(e){p.default.IsIFrame()||d.default.ReportErrorOnce({errorMessage:"Caught error in LocalStorageInterface.setItem",error:u.default.isError(e)?e:void 0}),a(e)}}},{key:"getItem",value:function(e){try{return window.localStorage.getItem(e)}catch(e){return p.default.IsIFrame()||d.default.ReportErrorOnce({errorMessage:"Caught error in LocalStorageInterface.getItem",error:u.default.isError(e)?e:void 0}),null}}},{key:"removeItem",value:function(e){try{localStorage.removeItem(e)}catch(e){p.default.IsIFrame()||d.default.ReportErrorOnce({errorMessage:"Caught error in LocalStorageInterface.removeItem",error:u.default.isError(e)?e:void 0})}}}]),r}(g.default);t.LocalStorageInterface=y;var A=y;t.default=A},945176:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(856690)),o=n(r(689728)),i=n(r(662202)),l=n(r(669353)),s=n(r(593186)),u=function(){function e(t){var r=t.data,n=t.cmp,o=t.enc;(0,a.default)(this,e),this.data=r,n&&(this.cmp=n),o&&(this.enc=o)}return(0,o.default)(e,[{key:"getCompressed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cmp||!this.data?Promise.resolve(this):this.enc?Promise.reject(new Error("Tried to compress data that was already encrypted")):l.default.compress(this.data,t).then((function(t){return new e({data:t.data,cmp:t.algorithm})}))}},{key:"getCompressedOrSelf",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getCompressed(t).catch((function(t){return s.default.warnToDevConsole(t),Promise.resolve(e)}))}},{key:"getEncrypted",value:function(t){var r=this;return this.enc||!this.data?Promise.resolve(this):t?i.default.encrypt(this.data,t).then((function(t){return new e({data:t.data,enc:t.algorithm,cmp:r.cmp})})).catch((function(e){return s.default.warnToDevConsole(e),Promise.resolve(r)})):Promise.reject(new Error("Tried to encrypt without providing a key"))}},{key:"getEncryptedOrSelf",value:function(e){var t=this;return e?this.getEncrypted(e).catch((function(e){return s.default.warnToDevConsole(e),Promise.resolve(t)})):Promise.resolve(this)}},{key:"getDecompressed",value:function(){return this.cmp&&this.data?l.default.decompress(this.data,this.cmp).then((function(t){return new e({data:t})})):Promise.resolve(this)}},{key:"getDecrypted",value:function(t){var r=this;return this.enc&&this.data?i.default.decrypt(this.data,this.enc,t).then((function(t){return new e({data:t,cmp:r.cmp})})):Promise.resolve(this)}},{key:"getUnpacked",value:function(t){return this.getDecrypted(t).then((function(e){return e.getDecompressed()})).catch((function(t){return s.default.warnToDevConsole(t),new e({data:null})}))}},{key:"getData",value:function(e){return this.getUnpacked(e).then((function(e){return e.data}))}}]),e}();t.default=u},27401:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ReadUserInfoFromUStore=w,t.default=void 0;var a=n(r(627424)),o=n(r(856690)),i=n(r(689728)),l=n(r(496486)),s=n(r(836808)),u=n(r(402568)),c=n(r(571524)),d=n(r(593186)),p=n(r(365914)),f=r(646317),h=n(r(112530)),g=n(r(343625)),m=r(785144),v=r(864510);function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=!1;function w(){var e=(0,v.readUserInfoFromCookie)();if(null!=e)return e;var t=g.default.getItem("JeeneeUserInfo"),r={Id:0,Name:"Guest",AuthUserId:"guest",AuthUserEmail:"guest",AuthSource:"native",UserRole:"User"};if(null==t||""===t||"null"===t){var n=s.default.get("STARTWITHTOKEN");if(n){var a=(0,f.parseQuery)(n);r={Id:parseInt(a.id,10),Name:a.name,AuthUserId:a.email,AuthUserEmail:a.email,AuthSource:"native",UserRole:"User"}}}else{var o=JSON.parse(t);null!=o.UserInfo.AuthTokenExpiryTime&&(o.UserInfo.AuthTokenExpiryTime=new Date(o.UserInfo.AuthTokenExpiryTime+" UTC")),r=o.UserInfo}return r}var E=function(){return"User-".concat((0,u.default)(Number(w().Id)),"|").concat(m.USER_ROLLOUTS)},T=function(){function e(t){var r=t.tentativeTemplateName,n=t.tentativeTemplateId,i=t.appTemplateVersion,l=t.userId;(0,o.default)(this,e);var s=e.normalizeNameAndId(r,n),u=(0,a.default)(s,2),d={tentativeTemplateName:r=u[0],tentativeTemplateId:n=u[1],appTemplateVersion:i,userId:l,clearAllStorageProviders:this.clearAllStorageProviders.bind(this)};this.localStorageInterface=new g.default(d),this.interfaces=[this.localStorageInterface],e.supportsIndexedDB()&&!c.default.IsIFramePreview()&&p.default.isGuid(n)&&(this.indexedDBInterface=new h.default(d),this.interfaces.push(this.indexedDBInterface))}return(0,i.default)(e,[{key:"dispose",value:function(e){var t,r=S(this.interfaces);try{for(r.s();!(t=r.n()).done;){t.value.dispose(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"defaultStorageInterface",get:function(){return this.indexedDBInterface||this.localStorageInterface}},{key:"validStorageInterface",get:function(){var e=this.interfaces.filter((function(e){return e.IsValid()}));return 1===e.length?e[0]:(e.length>1&&(d.default.warnToDevConsole("found multiple storage interfaces with valid localState"),this.forEach((function(e){return e.clearAll()}))),null)}},{key:"setCurrentTemplate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.Name,n=t.Id;r&&n&&!p.default.isGuid(r)&&p.default.isGuid(n)&&e.registerTemplateId(r,n),this.forEach((function(e){return e.setCurrentTemplate(t)}))}},{key:"testIndexedDB",value:function(){var e=this;return this.indexedDBInterface?this.indexedDBInterface.dataStore.getItem("test").catch((function(t){d.default.warnToDevConsole("indexedDB test failed with error:"),d.default.warnToDevConsole(t),A=!0,l.default.remove(e.interfaces,(function(t){return t===e.indexedDBInterface})),delete e.indexedDBInterface})):Promise.resolve(null)}},{key:"readLocalAppData",value:function(){var e=this;return this.testIndexedDB().then((function(){return Promise.all([e.readTables(),e.readTemplate(),e.readSyncToken(),e.readControlState(),e.readImageCache(),e.readSyncState(),e.readClientId(),e.readLogRecords(),e.readFilePaths(),e.readOwnerRollouts()])}))}},{key:"forEach",value:function(e){return Promise.all(this.interfaces.map(e))}},{key:"readOwnerRollouts",value:function(){return this.forEach((function(e){return e.readOwnerRollouts()}))}},{key:"readTables",value:function(){return this.forEach((function(e){return e.readTables()}))}},{key:"readTemplate",value:function(){return this.forEach((function(e){return e.readTemplate()}))}},{key:"readSyncToken",value:function(){return this.forEach((function(e){return e.readSyncToken()}))}},{key:"readControlState",value:function(){return this.forEach((function(e){return e.readControlState()}))}},{key:"readImageCache",value:function(){return this.forEach((function(e){return e.readImageCache()}))}},{key:"readSyncState",value:function(){return this.forEach((function(e){return e.readSyncState()}))}},{key:"readClientId",value:function(){return this.forEach((function(e){return e.readClientId()}))}},{key:"readLogRecords",value:function(){return this.forEach((function(e){return e.readLogRecords()}))}},{key:"readFilePaths",value:function(){return this.forEach((function(e){return e.readFilePaths()}))}},{key:"clear",value:function(e){return this.forEach((function(t){return t.clear(e)}))}},{key:"clearAllStorageProviders",value:function(e){return this.forEach((function(t){return t.clear(e,{keepInMemory:!0})}))}},{key:"clearTables",value:function(){return this.forEach((function(e){return e.clearTables()}))}},{key:"clearTemplate",value:function(){return this.forEach((function(e){return e.clearTemplate()}))}},{key:"clearControlState",value:function(){return this.forEach((function(e){return e.clearControlState()}))}},{key:"clearImageCache",value:function(){return this.forEach((function(e){return e.clearImageCache()}))}},{key:"clearAll",value:function(){return this.forEach((function(e){return e.clearAll()}))}},{key:"clearFilePaths",value:function(){return this.forEach((function(e){return e.clearFilePaths()}))}}],[{key:"getGuidsByName",value:function(){try{return JSON.parse(g.default.getItem(m.NAME_GUID_MAP)||"{}")}catch(e){return c.default.IsIFrame()||d.default.ReportErrorOnce({errorMessage:"Caught error in StorageManager.getGuidsByName",error:e}),{}}}},{key:"writeUserRollouts",value:function(e){return new Promise((function(t,r){g.default.setItem(E(),JSON.stringify(e),(function(e){return e?r(e):t()}))}))}},{key:"readUserRollouts",value:function(){try{var e=g.default.getItem(E());return e?JSON.parse(e):void 0}catch(e){return void d.default.ReportError({errorMessage:"Error parsing user rollouts",error:e})}}},{key:"clearUserRollouts",value:function(){g.default.removeItem(E())}},{key:"supportsIndexedDB",value:function(){return!(!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)||A||c.default.IsIOSV8or9Browser()||c.default.IsIEBrowser())}},{key:"normalizeNameAndId",value:function(t,r){var n;if(p.default.isGuid(r)||(n=e.getGuidsByName())[t]&&(r=n[t]),p.default.isGuid(t)){var a=l.default.invert(n||e.getGuidsByName());a[r]&&(t=a[r])}return[t,r]}},{key:"registerTemplateId",value:function(t,r){var n=e.getGuidsByName();n[t]=r,g.default.setItem(m.NAME_GUID_MAP,JSON.stringify(n))}}]),e}();t.default=T},166089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppGlobals=void 0;var n=r(676074),a=r(517774),o=window,i=(0,a.combine)(n.Main32,{get ViewManager(){return o.ViewManager},get AppState(){return o.AppState},get StateChangeHandler(){return o.StateReflector},get AppModel(){return o.AppModel},get IsInAppsheetTestContext(){return Boolean(o.APPSHEET_TEST_CONTEXT)}});t.AppGlobals=i},517774:(e,t)=>{"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(){for(var e={},t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var o=0,i=n;o<i.length;o++){var l,s=i[o],u=r(Object.getOwnPropertyNames(s));try{for(u.s();!(l=u.n()).done;){var c=l.value;Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(s,c)||Object.create(null))}}catch(e){u.e(e)}finally{u.f()}}return e}},191669:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.EditorShell=void 0;var a=n(r(496486)),o=r(517774),i=r(931406),l=window,s={get CURR_USER_IS_NEW_USER(){return Boolean(l.CURR_USER_IS_NEW_USER)},get FormAntiForgeryToken(){return a.default.isString(l.FormAntiForgeryToken)?l.FormAntiForgeryToken:""},get HatsApiKey(){return l.HatsApiKey},get IsEnterpriseApp(){return Boolean(l.IsEnterpriseApp)},get SuggestionFeedbackCollectionAllowed(){return Boolean(l.SuggestionFeedbackCollectionAllowed)},get appSchema(){return l.appSchema},get copiableDataSources(){return a.default.isArray(l.copiableDataSources)?l.copiableDataSources:[]},get dataSources(){return a.default.isArray(l.dataSources)?l.dataSources:[]},get emulatorData(){return a.default.isPlainObject(l.emulatorData)||(l.emulatorData={}),a.default.isInteger(l.emulatorData.syncTime)||(l.emulatorData.syncTime=0),a.default.isString(l.emulatorData.previewAsEmail)||(l.emulatorData.previewAsEmail=""),a.default.isString(l.emulatorData.previewAsRole)||(l.emulatorData.previewAsRole=""),l.emulatorData},getAppOwnerCorporatePlan:function(){return a.default.isFunction(l.getOwnerCorporatePlan)?l.getOwnerCorporatePlan():-1},isAppOwnerCorporate:function(){return a.default.isFunction(l.isCorporate)?Boolean(l.isCorporate()):void 0},isAppOwnerWorkspaceUser:function(){return a.default.isFunction(l.isOwnerWorkspaceUser)?Boolean(l.isOwnerWorkspaceUser()):void 0},getAppOwnerDomain:function(){return this.getAppOwnerEmail().split("@").pop()||""},getAppOwnerEmail:function(){return a.default.isFunction(l.getAppOwnerEmail)?a.default.toString(l.getAppOwnerEmail()):""},getEditingVersion:function(){return a.default.isFunction(l.getEditingVersion)?a.default.toString(l.getEditingVersion()):""},getReferenceGraph:function(){return a.default.isFunction(l.getReferenceGraph)?l.getReferenceGraph():{}},getResolvedColumns:function(e){return a.default.isFunction(l.getResolvedColumns)?l.getResolvedColumns(e):{}},getUserCorporatePlan:function(){return a.default.isFunction(l.getUserCorporatePlan)?l.getUserCorporatePlan():-1},getUserDomain:function(){return this.getUserEmail().split("@").pop()||""},getUserEmail:function(){return a.default.isFunction(l.getUserEmail)?a.default.toString(l.getUserEmail()):""},getUserId:function(){return a.default.isFunction(l.getUserId)?a.default.toString(l.getUserId()):""},hasCustomerId:function(){return!!a.default.isFunction(l.hasCustomerId)&&Boolean(l.hasCustomerId())},hatsPsd:function(){return a.default.isFunction(l.hatsPsd)?l.hatsPsd():{}},get help(){return l.help},get isAppOwner(){return Boolean(l.isAppOwner)},isFullTeamEmployee:function(){return Boolean(l.isFullTeamEmployee)},get isInEditor(){var e=l.location.pathname.toLowerCase();return"/template/appdef"===e||"/template/simpledef"===e},isInRecoveryMode:function(){return a.default.isFunction(l.isInRecoveryMode)&&Boolean(l.isInRecoveryMode())},isPaused:function(){return a.default.isFunction(l.isPaused)&&Boolean(l.isPaused())},isProberAccount:function(){return Boolean(l.isProber)},isPublicDomain:function(e){return a.default.isFunction(l.isPublicDomain)&&Boolean(l.isPublicDomain(e))},isRestorable:function(){return a.default.isFunction(l.isRestorable)&&Boolean(l.isRestorable())},isSupportEmployee:function(){return Boolean(l.IS_EMPLOYEE)},get isTablesDbDisabled(){return Boolean(l.isTablesDbDisabled)},isTestAccount:function(){return Boolean(l.isTestAccount)},isUserCorporate:function(){return a.default.isFunction(l.isUserCorporate)&&Boolean(l.isUserCorporate())},isUserWorkspaceUser:function(){return a.default.isFunction(l.isUserWorkspaceUser)&&Boolean(l.isUserWorkspaceUser())},patchAppTemplate:function(e){return a.default.isFunction(l.patchAppTemplate)?l.patchAppTemplate(e):{}},setAppTemplateJson:function(e){return a.default.isFunction(l.setAppTemplateJson)?l.setAppTemplateJson(e):{}},setEnabledFeaturesWasm:function(){return a.default.isFunction(l.setEnabledFeaturesWasm)?l.setEnabledFeaturesWasm():{}},userLoggedIn:function(){return a.default.isFunction(l.userLoggedIn)&&Boolean(l.userLoggedIn())}},u={inDynamicRolloutByOwnerId:function(e){return a.default.isFunction(l.hasEditorDynamicRollout)&&Boolean(l.hasEditorDynamicRollout(e))},inDynamicRolloutByUserId:function(e){return a.default.isFunction(l.hasRolloutByUserId)&&Boolean(l.hasRolloutByUserId(e))},inIntegrationRollout:function(){return Boolean(l.IntegrationRollout)}},c={compileExpression:function(e,t,r,n){return a.default.isFunction(l.compileExpression)?l.compileExpression(e,t,r,n):{}},getReferenceGraph:function(){return a.default.isFunction(l.getReferenceGraph)?l.getReferenceGraph():{}},getResolvedColumns:function(e){return a.default.isFunction(l.getResolvedColumns)?l.getResolvedColumns(e):{}},patchAppTemplate:function(e){return a.default.isFunction(l.patchAppTemplate)?l.patchAppTemplate(e):{}},setAppTemplateJson:function(e){return a.default.isFunction(l.setAppTemplateJson)?l.setAppTemplateJson(e):{}},setEnabledFeaturesWasm:function(){return a.default.isFunction(l.setEnabledFeaturesWasm)?l.setEnabledFeaturesWasm():{}}},d=(0,o.combine)(s,i.NpsSurveyPartial,u,c);t.EditorShell=d},942885:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyContentLayout=void 0;var a=n(r(496486)),o=window,i={get userInfo(){return a.default.isPlainObject(o.userInfo)||(o.userInfo={}),a.default.isString(o.userInfo.AuthUserEmail)||(o.userInfo.AuthUserEmail=""),o.userInfo},get VerifiedAjaxPostToken(){return a.default.isString(o.VerifiedAjaxPostToken)?o.VerifiedAjaxPostToken:""}};t.LegacyContentLayout=i},676074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Main32=void 0;t.Main32={}},931406:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.NpsSurveyPartial=void 0;var a=n(r(496486)),o=window,i={checkAndLaunchNPSDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a.default.isFunction(o.checkAndLaunchNPSDialog)&&o.checkAndLaunchNPSDialog(e,t)}};t.NpsSurveyPartial=i},315869:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.WebSharedLayout=void 0;var a=n(r(496486)),o=window,i={inDynamicRolloutByUserId:function(e){return!!a.default.isFunction(o.hasRolloutByUserId)&&Boolean(o.hasRolloutByUserId(e))}};t.WebSharedLayout=i},836807:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.CommonGlobals=void 0;var a=n(r(856690)),o=n(r(689728)),i=window,l=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,null,[{key:"currentBundle",get:function(){return["app","editor","my-apps"].includes(i.currentBundle)?i.currentBundle:""}}]),e}();t.CommonGlobals=l},619387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OtherBundlesGlobals=void 0;var n=r(315869),a=(0,r(517774).combine)(n.WebSharedLayout);t.OtherBundlesGlobals=a},892148:(e,t,r)=>{"use strict";var n=r(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.WindowWrapper=void 0;var a=n(r(856690)),o=n(r(689728)),i=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,null,[{key:"history",get:function(){return window.history}},{key:"alert",value:function(e){return window.alert(e)}},{key:"setTimeout",value:function(e,t){return window.setTimeout(e,t)}},{key:"setInterval",value:function(e,t){return window.setInterval(e,t)}},{key:"clearInterval",value:function(e){return window.clearInterval(e)}},{key:"unsafeLocalStorage",get:function(){return window.localStorage}},{key:"localStorage",get:function(){return{get length(){try{return window.localStorage.length}catch(e){return 0}},clear:function(){try{window.localStorage.clear()}catch(e){return}},getItem:function(e){try{return window.localStorage.getItem(e)}catch(e){return null}},key:function(e){try{return window.localStorage.key(e)}catch(e){return null}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){return}},setItem:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){return}}}}},{key:"clipboard",get:function(){return{writeText:function(e){return navigator.clipboard.writeText(e)}}}},{key:"openInNewTab",value:function(e){return window.open(e,"_blank","noopener,noreferrer")}},{key:"location",get:function(){return window.location},set:function(e){window.location=e}}]),e}();t.WindowWrapper=i,i.open=function(e,t,r){return window.open(e,t,r)},i.confirm=function(e){return window.confirm&&window.confirm(e)},i.getInnerHeight=function(){return window.innerHeight},i.getInnerWidth=function(){return window.innerWidth},i.getWasmLoadBootResourceScript=function(){return window.wasmLoadBootResourceScript},i.getBlazor=function(){return window.blazor}},863518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googleAnalytics=void 0;var r={get googleAnalytics(){return window.ga}};t.googleAnalytics=r},285697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorGlobals=void 0;var n=r(191669),a=r(942885),o=r(517774),i=r(737967),l=r(863518),s=(0,o.combine)(a.LegacyContentLayout,n.EditorShell,l.googleAnalytics,i.readOnlyExperimentsCache);t.EditorGlobals=s},737967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readOnlyExperimentsCache=void 0;var r={},n={get readOnlyExperimentsCache(){return r},set readOnlyExperimentsCache(e){r=e}};t.readOnlyExperimentsCache=n},591530:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionType=void 0,t.SubscriptionType=r,function(e){e[e.FREE=1]="FREE",e[e.STANDARD=2]="STANDARD",e[e.PREMIUM=3]="PREMIUM",e[e.PUBLISHER_PRO=6]="PUBLISHER_PRO",e[e.PRO=7]="PRO"}(r||(t.SubscriptionType=r={}))}}]);
//# sourceMappingURL=/cloud-sources/prod/826bca975910cb517b929fbd4e1a8caf7c52e176421d7af8ddf51350cdd59984.map/